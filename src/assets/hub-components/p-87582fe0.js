import{R as t,b as e}from"./p-56b73d71.js";class s extends t{constructor(t,e,s,n){super(t,e,s),this.error=n}}function n(t,n){return function(t){const{token:e,authentication:s}=t;let n=()=>Promise.resolve(e);return s&&(n=s.getToken.bind(s,s.portal)),n()}(n).then((r=>function(t,n,r){const o=new Headers(n.headers);o.append("Content-Type","application/json"),r&&o.append("Authorization",`Bearer ${r}`);const a={headers:o,method:n.httpMethod||"GET",mode:n.mode,cache:n.cache,credentials:n.credentials},c=e({host:n.hubApiUrl||"https://hub.arcgis.com",path:"/api/discussions/v1"});n.data&&("GET"===n.httpMethod?t+=`?${new URLSearchParams(n.data).toString()}`:a.body=JSON.stringify(n.data));const i=[c.replace(/\/$/,""),t.replace(/^\//,"")].join("/");return fetch(i,a).then((t=>{if(t.ok)return t.json();{const{statusText:e,status:n}=t;return t.json().then((t=>{throw new s(e,i,n,JSON.stringify(t.message))}))}}))}(t,n,r)))}export{n as r}