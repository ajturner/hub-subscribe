import{a as t}from"./p-a0deb8c6.js";function e(t){return t&&"."!==t.slice(-1)?`${t}.`:t}function a(t,a,c,o){switch(c){case"item":return function(t,a,c){let o;const s=function(t,a,r){const i=n(t=e(t),"item");return((null==r?void 0:r.length)?r:["appAndMap","dataset","document","feedback","site","project"]).reduce(((t,e)=>(i[e]&&t.push(i[e]),t)),[])}(t=e(t),0,null==c?void 0:c.collectionNames);switch(a){case"myContent":i(a,c),o=r(t,a,[{owner:c.user.username}],s,"item");break;case"favorites":i(a,c),o=r(t,a,[{group:c.user.favGroupId}],s,"item");break;case"organization":i(a,c),o=r(t,a,[{orgid:c.user.orgId}],s,"item");break;case"world":o=r(t,a,[{type:{not:["code attachment"]}}],s,"item")}return o}(t,a,o);case"group":return function(t,a,n){let c;t=e(t);const o=[{targetEntity:"group",key:a,label:a,scope:{targetEntity:"group",filters:[{predicates:[{q:"*"}]}]}}];switch(a){case"editGroups":i(a,n),c=r(t,a,[{capabilities:["updateitemcontrol"]}],o,"group");break;case"viewGroups":i(a,n),c=r(t,a,[{capabilities:{not:["updateitemcontrol"]}}],o,"group");break;case"allGroups":i(a,n),c=r(t,a,[{capabilities:[""]}],o,"group")}return c}(t,a,o);default:throw new Error(`Wellknown catalog not implemented for "${c}"`)}}function r(t,e,a,r,i){let n;switch(i){case"item":n={item:{targetEntity:"item",filters:[{predicates:a}]}};break;case"group":n={group:{targetEntity:"group",filters:[{predicates:a}]}}}return{schemaVersion:1,title:`{{${t}catalog.${e}:translate}}`,scopes:n,collections:r}}function i(t,e){if(!e||!e.user)throw new Error(`User needed to get "${t}" catalog`)}function n(e,a){return{appAndMap:{key:"appAndMap",label:`{{${e}collection.appsAndMaps:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:[...t("app"),...t("map")]}]}]}},dataset:{key:"dataset",label:`{{${e}collection.dataset:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("dataset")}]}]}},document:{key:"document",label:`{{${e}collection.documents:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("document")}]}]}},feedback:{key:"feedback",label:`{{${e}collection.feedback:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("feedback")}]}]}},site:{key:"site",label:`{{${e}collection.sites:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("site")}]}]}},template:{key:"template",label:`{{${e}collection.templates:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("template")}]}]}},project:{key:"project",label:`{{${e}collection.projects:translate}}`,targetEntity:a,include:[],scope:{targetEntity:a,filters:[{predicates:[{type:t("project")}]}]}}}}function c(t,a,r){return n(t=e(t),a)[r]}export{a,c as g}