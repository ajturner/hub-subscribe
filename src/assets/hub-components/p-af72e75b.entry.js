import{r as e,c as i,h as s,H as t,a}from"./p-d4ba4c14.js";import{b as c}from"./p-fd260f2d.js";import{g as l,i as n,a as o}from"./p-839b8118.js";import{i as r}from"./p-be5c5009.js";import{g as h}from"./p-30a7cbb2.js";const d=class{constructor(s){e(this,s),this.arcgisHubLicensePickerChange=i(this,"arcgisHubLicensePickerChange",7),this.licenseInfo=void 0,this.modalIsOpen=!1,c(this,"handleApply","handleModalClose","handleModalOpen","handleOpenLink","handleRemove")}get structuredLicense(){return h(this.licenseInfo)}async componentWillLoad(){this.intl=await r.loadIntlForComponent(this.element)}handleApply(e){this.licenseInfo=e.detail,this.arcgisHubLicensePickerChange.emit(this.licenseInfo),this.handleModalClose()}handleModalClose(){this.modalIsOpen=!1}handleModalOpen(){this.modalIsOpen=!0}handleRemove(){confirm(this.intl.t("editorRemoveWarning"))&&(this.licenseInfo="",this.arcgisHubLicensePickerChange.emit(this.licenseInfo))}handleOpenLink(e){window.open(e.target.dataset.url)}render(){const e=l(this.intl,this.structuredLicense.type);return s(t,{"data-element":"license-picker"},s("arcgis-wormhole",null,s("arcgis-hub-license-picker-modal",{licenseInfo:this.licenseInfo,modalIsOpen:this.modalIsOpen,wasCustomLicense:n(this.structuredLicense.type),wasStructuredLicense:!o(this.structuredLicense.type)})),s("div",{class:"license-picker-container"},s("div",{class:"license-picker-editor"},s("calcite-label",{class:"active-license-label",for:"active-license"},this.intl.t("editorLabel")),s("calcite-value-list",{class:"active-license"},s("calcite-value-list-item",{description:e,label:e?this.structuredLicense.abbr||this.intl.t("selectedLicenseLabelFallback"):this.intl.t("selectedLicenseLabelNoLicense"),nonInteractive:!0,value:this.structuredLicense.type},!!e&&[!!this.structuredLicense.url&&s("calcite-action",{"aria-label":this.intl.t("licenseInfoButtonAriaLabel"),"aria-labelledby":this.structuredLicense.abbr,"data-url":this.structuredLicense.url,icon:"information",key:"information",onClick:this.handleOpenLink,slot:"actions-end",text:""}),s("calcite-action",{icon:"trash",key:"trash",onClick:this.handleRemove,slot:"actions-end",text:""})])),s("calcite-button",{appearance:"solid",class:"choose-button",onClick:this.handleModalOpen,type:"button"},this.intl.t("chooseButton")))))}static get assetsDirs(){return["locales"]}get element(){return a(this)}};d.style=":host{display:block;--calcite-font-size--1:1rem;--calcite-font-size--2:1rem}.choose-button{margin-top:30px}";export{d as arcgis_hub_license_picker}