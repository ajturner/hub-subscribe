import{a as r,_ as n}from"./p-d763eacf.js";import{g as t}from"./p-377e1b5e.js";import{r as u}from"./p-dcdf7b57.js";function e(r,n){if(0===r.length)return[];for(var t=[],u=0;u<r.length;u+=n)t.push(r.slice(u,u+n));return t}function o(n){var e=n.id,o=t(n)+"/community/groups/"+e+"/addUsers",c=Object.assign({},n,{admins:void 0,users:void 0}),f=r(s("users",n.users,c),s("admins",n.admins,c)).map((function(r){return function(r,n){return u(r,n).catch((function(r){return{errors:[r]}}))}(o,r)}));return Promise.all(f).then(i)}function s(r,t,u){return!t||t.length<1?[]:e(t,25).map((function(t){return function(r,t,u){var e,o;return Object.assign({},u,((e={})[r]=t,e.params=n(n({},u.params),((o={})[r]=t,o)),e))}(r,t,u)}))}function i(r){var n=r.filter((function(r){return r.notAdded})).reduce((function(r,n){return r.concat(n.notAdded)}),[]),t=r.filter((function(r){return r.errors})).reduce((function(r,n){return r.concat(n.errors)}),[]),u={notAdded:n};return t.length>0&&(u.errors=t),u}function c(r){var o=r.id,s=r.users,i=t(r)+"/community/groups/"+o+"/removeUsers",c=e(s,25).map((function(t){return e=t,o=n(n({},r),{users:e,params:{users:e}}),u(i,o).catch((function(r){return{errors:[r]}}));var e,o}));return Promise.all(c).then((function(r){var t=function(n){return r.filter((function(r){return r[n]})).reduce((function(r,t){return r.concat(t[n])}),[])},u=t("errors"),e={notRemoved:t("notRemoved")};return u.length?n(n({},e),{errors:u}):e}))}export{o as a,e as c,c as r}