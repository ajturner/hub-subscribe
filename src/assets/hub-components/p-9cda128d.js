import{g as r}from"./p-377e1b5e.js";import{g as o}from"./p-00849f08.js";import{i as n}from"./p-78bc8064.js";import{b as t}from"./p-8e7f4c22.js";import{r as e}from"./p-dcdf7b57.js";function i(i){return n(i).then((function(n){if(!n)return Promise.resolve({itemId:i.id,shortcut:!0,notUnsharedFrom:[]});var s=i.authentication.username,u=i.owner;return Promise.all([o(i),t({username:s,authentication:i.authentication})]).then((function(o){var n=o[1];if((u||s)!==s&&("org_admin"!==n.role||n.roleId)&&["admin","owner"].indexOf(o[0])<0)throw Error("This item can not be unshared from group "+i.groupId+" by "+s+" as they not the item owner, an org admin, group admin or group owner.");return function(o){var n=o.authentication.username,t=o.owner||n,i=r(o)+"/content/items/"+o.id+"/unshare";return t===n&&(i=r(o)+"/content/users/"+t+"/items/"+o.id+"/unshare"),o.params={groups:o.groupId},e(i,o)}(i)})).then((function(r){if(r.notUnsharedFrom.length)throw Error("Item "+i.id+" could not be unshared to group "+i.groupId);return r}))}))}export{i as u}