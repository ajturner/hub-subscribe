import{I as e,a as r,b as s,c as i}from"./p-7b082f5d.js";import{S as t,P as a,a as o,T as p,b as n,c as l,d as u,e as m,m as c}from"./p-8dbea197.js";import{g as d}from"./p-b295a5ae.js";import{g as h}from"./p-796574a4.js";const g=[...t,...a,...e,{permission:"hub:discussion",services:["discussions"]},{permission:"hub:discussion:create",dependencies:["hub:discussion"],authenticated:!0,privileges:["portal:user:createItem"],licenses:["hub-premium"]},{permission:"hub:discussion:view",dependencies:["hub:discussion"],authenticated:!1,licenses:["hub-premium"]},{permission:"hub:discussion:edit",authenticated:!0,dependencies:["hub:discussion"],entityEdit:!0,licenses:["hub-premium"]},{permission:"hub:discussion:delete",authenticated:!0,dependencies:["hub:discussion"],entityOwner:!0,licenses:["hub-premium"]},{permission:"hub:discussion:workspace:overview",dependencies:["hub:discussion:view"]},{permission:"hub:discussion:workspace:dashboard",dependencies:["hub:discussion:view"],environments:["devext","qaext"]},{permission:"hub:discussion:workspace:details",dependencies:["hub:discussion:edit"]},{permission:"hub:discussion:workspace:settings",dependencies:["hub:discussion:edit"],entityOwner:!0},{permission:"hub:discussion:workspace:collaborators",dependencies:["hub:discussion:edit"]},{permission:"hub:discussion:workspace:discussion",dependencies:["hub:discussion:edit"]},{permission:"hub:discussion:workspace:metrics",dependencies:["hub:discussion:edit"]},{permission:"hub:discussion:manage",dependencies:["hub:discussion:edit"]},{permission:"hub:content:create",services:["portal"],authenticated:!0,privileges:["portal:user:createItem"]},{permission:"hub:content:view",services:["portal"],authenticated:!1},{permission:"hub:content:edit",authenticated:!0,services:["portal"],entityEdit:!0},{permission:"hub:content:workspace",dependencies:["hub:feature:workspace"]},{permission:"hub:content:workspace:overview",dependencies:["hub:content:workspace","hub:content:view"]},{permission:"hub:content:workspace:dashboard",dependencies:["hub:content:workspace","hub:content:view"]},{permission:"hub:content:workspace:details",dependencies:["hub:content:workspace","hub:content:edit"]},{permission:"hub:content:workspace:discussion",dependencies:["hub:content:workspace","hub:content:edit"]},{permission:"hub:content:workspace:settings",dependencies:["hub:content:workspace","hub:content:edit"],entityOwner:!0},{permission:"hub:content:workspace:collaborators",dependencies:["hub:content:workspace","hub:content:edit"]},{permission:"hub:content:manage",dependencies:["hub:content:edit"]},{permission:"hub:group",services:["portal"]},{permission:"hub:group:create",dependencies:["hub:group"],authenticated:!0,privileges:["portal:user:createGroup"]},{permission:"hub:group:view",dependencies:["hub:group"]},{permission:"hub:group:edit",dependencies:["hub:group"],authenticated:!0,entityEdit:!0},{permission:"hub:group:delete",dependencies:["hub:group"],authenticated:!0,entityOwner:!0},{permission:"hub:group:owner",dependencies:["hub:group"],authenticated:!0,entityOwner:!0},{permission:"hub:group:workspace",dependencies:["hub:feature:workspace"]},{permission:"hub:group:workspace:details",dependencies:["hub:group:workspace","hub:group:edit"]},{permission:"hub:group:workspace:discussion",dependencies:["hub:group:workspace","hub:group:edit"]},{permission:"hub:group:workspace:settings",dependencies:["hub:group:workspace","hub:group:edit"]},{permission:"hub:group:workspace:content",dependencies:["hub:group:workspace","hub:group:view"]},{permission:"hub:group:workspace:members",dependencies:["hub:group:workspace","hub:group:view"]},{permission:"hub:group:shareContent",dependencies:["hub:group"],authenticated:!0,privileges:["portal:user:shareToGroup"],assertions:[{property:"context:currentUser",type:"is-group-member",value:"entity:id"}]},{permission:"hub:group:manage",dependencies:["hub:group:edit"]},...o,...p,{permission:"platform:features:user:edit",services:["portal"],authenticated:!0,privileges:["features:user:edit"]},{permission:"platform:features:user:fullEdit",services:["portal"],authenticated:!0,privileges:["features:user:fullEdit"]},{permission:"platform:features:user:manageVersions",services:["portal"],authenticated:!0,privileges:["features:user:manageVersions"]},{permission:"platform:marketplace:admin:manage",services:["portal"],authenticated:!0,privileges:["marketplace:admin:manage"]},{permission:"platform:marketplace:admin:purchase",services:["portal"],authenticated:!0,privileges:["marketplace:admin:purchase"]},{permission:"platform:marketplace:admin:startTrial",services:["portal"],authenticated:!0,privileges:["marketplace:admin:startTrial"]},{permission:"platform:opendata:user:designateGroup",services:["portal"],authenticated:!0,privileges:["opendata:user:designateGroup"]},{permission:"platform:opendata:user:openDataAdmin",services:["portal"],authenticated:!0,privileges:["opendata:user:openDataAdmin"]},{permission:"platform:portal:admin:assignToGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:assignToGroups"]},{permission:"platform:portal:admin:categorizeItems",services:["portal"],authenticated:!0,privileges:["portal:admin:categorizeItems"]},{permission:"platform:portal:admin:changeUserRoles",services:["portal"],authenticated:!0,privileges:["portal:admin:changeUserRoles"]},{permission:"platform:portal:admin:createGPWebhook",services:["portal"],authenticated:!0,privileges:["portal:admin:createGPWebhook"]},{permission:"platform:portal:admin:createUpdateCapableGroup",services:["portal"],authenticated:!0,privileges:["portal:admin:createUpdateCapableGroup"]},{permission:"platform:portal:admin:deleteGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:deleteGroups"]},{permission:"platform:portal:admin:deleteItems",services:["portal"],authenticated:!0,privileges:["portal:admin:deleteItems"]},{permission:"platform:portal:admin:deleteUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:deleteUsers"]},{permission:"platform:portal:admin:disableUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:disableUsers"]},{permission:"platform:portal:admin:inviteUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:inviteUsers"]},{permission:"platform:portal:admin:manageCollaborations",services:["portal"],authenticated:!0,privileges:["portal:admin:manageCollaborations"]},{permission:"platform:portal:admin:manageCredits",services:["portal"],authenticated:!0,privileges:["portal:admin:manageCredits"]},{permission:"platform:portal:admin:manageEnterpriseGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:manageEnterpriseGroups"]},{permission:"platform:portal:admin:manageLicenses",services:["portal"],authenticated:!0,privileges:["portal:admin:manageLicenses"]},{permission:"platform:portal:admin:manageRoles",services:["portal"],authenticated:!0,privileges:["portal:admin:manageRoles"]},{permission:"platform:portal:admin:manageSecurity",services:["portal"],authenticated:!0,privileges:["portal:admin:manageSecurity"]},{permission:"platform:portal:admin:manageServers",services:["portal"],authenticated:!0,privileges:["portal:admin:manageServers"]},{permission:"platform:portal:admin:manageUtilityServices",services:["portal"],authenticated:!0,privileges:["portal:admin:manageUtilityServices"]},{permission:"platform:portal:admin:manageWebhooks",services:["portal"],authenticated:!0,privileges:["portal:admin:manageWebhooks"]},{permission:"platform:portal:admin:manageWebsite",services:["portal"],authenticated:!0,privileges:["portal:admin:manageWebsite"]},{permission:"platform:portal:admin:reassignGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:reassignGroups"]},{permission:"platform:portal:admin:reassignItems",services:["portal"],authenticated:!0,privileges:["portal:admin:reassignItems"]},{permission:"platform:portal:admin:reassignUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:reassignUsers"]},{permission:"platform:portal:admin:shareToGroup",services:["portal"],authenticated:!0,privileges:["portal:admin:shareToGroup"]},{permission:"platform:portal:admin:shareToOrg",services:["portal"],authenticated:!0,privileges:["portal:admin:shareToOrg"]},{permission:"platform:portal:admin:shareToPublic",services:["portal"],authenticated:!0,privileges:["portal:admin:shareToPublic"]},{permission:"platform:portal:admin:updateGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:updateGroups"]},{permission:"platform:portal:admin:updateItemCategorySchema",services:["portal"],authenticated:!0,privileges:["portal:admin:updateItemCategorySchema"]},{permission:"platform:portal:admin:updateItems",services:["portal"],authenticated:!0,privileges:["portal:admin:updateItems"]},{permission:"platform:portal:admin:updateMemberCategorySchema",services:["portal"],authenticated:!0,privileges:["portal:admin:updateMemberCategorySchema"]},{permission:"platform:portal:admin:updateUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:updateUsers"]},{permission:"platform:portal:admin:viewGroups",services:["portal"],authenticated:!0,privileges:["portal:admin:viewGroups"]},{permission:"platform:portal:admin:viewItems",services:["portal"],authenticated:!0,privileges:["portal:admin:viewItems"]},{permission:"platform:portal:admin:viewUsers",services:["portal"],authenticated:!0,privileges:["portal:admin:viewUsers"]},{permission:"platform:portal:publisher:bulkPublishFromDataStores",services:["portal"],authenticated:!0,privileges:["portal:publisher:bulkPublishFromDataStores"]},{permission:"platform:portal:publisher:createDataPipelines",services:["portal"],authenticated:!0,privileges:["portal:publisher:createDataPipelines"]},{permission:"platform:portal:publisher:createFeatureWebhook",services:["portal"],authenticated:!0,privileges:["portal:publisher:createFeatureWebhook"]},{permission:"platform:portal:publisher:publishBigDataAnalytics",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishBigDataAnalytics"]},{permission:"platform:portal:publisher:publishDynamicImagery",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishDynamicImagery"]},{permission:"platform:portal:publisher:publishFeatures",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishFeatures"]},{permission:"platform:portal:publisher:publishFeeds",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishFeeds"]},{permission:"platform:portal:publisher:publishKnowledgeGraph",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishKnowledgeGraph"]},{permission:"platform:portal:publisher:publishRealTimeAnalytics",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishRealTimeAnalytics"]},{permission:"platform:portal:publisher:publishScenes",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishScenes"]},{permission:"platform:portal:publisher:publishServerGPServices",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishServerGPServices"]},{permission:"platform:portal:publisher:publishServerServices",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishServerServices"]},{permission:"platform:portal:publisher:publishTiledImagery",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishTiledImagery"]},{permission:"platform:portal:publisher:publishTiles",services:["portal"],authenticated:!0,privileges:["portal:publisher:publishTiles"]},{permission:"platform:portal:publisher:registerDataStores",services:["portal"],authenticated:!0,privileges:["portal:publisher:registerDataStores"]},{permission:"platform:portal:user:addExternalMembersToGroup",services:["portal"],authenticated:!0,privileges:["portal:user:addExternalMembersToGroup"]},{permission:"platform:portal:user:categorizeItems",services:["portal"],authenticated:!0,privileges:["portal:user:categorizeItems"]},{permission:"platform:portal:user:createGroup",services:["portal"],authenticated:!0,privileges:["portal:user:createGroup"]},{permission:"platform:portal:user:createItem",services:["portal"],authenticated:!0,privileges:["portal:user:createItem"]},{permission:"platform:portal:user:invitePartneredCollaborationMembers",services:["portal"],authenticated:!0,privileges:["portal:user:invitePartneredCollaborationMembers"]},{permission:"platform:portal:user:joinGroup",services:["portal"],authenticated:!0,privileges:["portal:user:joinGroup"]},{permission:"platform:portal:user:joinNonOrgGroup",services:["portal"],authenticated:!0,privileges:["portal:user:joinNonOrgGroup"]},{permission:"platform:portal:user:reassignItems",services:["portal"],authenticated:!0,privileges:["portal:user:reassignItems"]},{permission:"platform:portal:user:receiveItems",services:["portal"],authenticated:!0,privileges:["portal:user:receiveItems"]},{permission:"platform:portal:user:runWebTool",services:["portal"],authenticated:!0,privileges:["portal:user:runWebTool"]},{permission:"platform:portal:user:shareGroupToOrg",services:["portal"],authenticated:!0,privileges:["portal:user:shareGroupToOrg"]},{permission:"platform:portal:user:shareGroupToPublic",services:["portal"],authenticated:!0,privileges:["portal:user:shareGroupToPublic"]},{permission:"platform:portal:user:shareToGroup",services:["portal"],authenticated:!0,privileges:["portal:user:shareToGroup"]},{permission:"platform:portal:user:shareToOrg",services:["portal"],authenticated:!0,privileges:["portal:user:shareToOrg"]},{permission:"platform:portal:user:shareToPublic",services:["portal"],authenticated:!0,privileges:["portal:user:shareToPublic"]},{permission:"platform:portal:user:viewHostedFeatureServices",services:["portal"],authenticated:!0,privileges:["portal:user:viewHostedFeatureServices"]},{permission:"platform:portal:user:viewHostedTileServices",services:["portal"],authenticated:!0,privileges:["portal:user:viewHostedTileServices"]},{permission:"platform:portal:user:viewOrgGroups",services:["portal"],authenticated:!0,privileges:["portal:user:viewOrgGroups"]},{permission:"platform:portal:user:viewOrgItems",services:["portal"],authenticated:!0,privileges:["portal:user:viewOrgItems"]},{permission:"platform:portal:user:viewOrgUsers",services:["portal"],authenticated:!0,privileges:["portal:user:viewOrgUsers"]},{permission:"platform:portal:user:viewTracks",services:["portal"],authenticated:!0,privileges:["portal:user:viewTracks"]},{permission:"platform:premium:publisher:createAdvancedNotebooks",services:["portal"],authenticated:!0,privileges:["premium:publisher:createAdvancedNotebooks"]},{permission:"platform:premium:publisher:createNotebooks",services:["portal"],authenticated:!0,privileges:["premium:publisher:createNotebooks"]},{permission:"platform:premium:publisher:geoanalytics",services:["portal"],authenticated:!0,privileges:["premium:publisher:geoanalytics"]},{permission:"platform:premium:publisher:rasteranalysis",services:["portal"],authenticated:!0,privileges:["premium:publisher:rasteranalysis"]},{permission:"platform:premium:publisher:scheduleNotebooks",services:["portal"],authenticated:!0,privileges:["premium:publisher:scheduleNotebooks"]},{permission:"platform:premium:user:demographics",services:["portal"],authenticated:!0,privileges:["premium:user:demographics"]},{permission:"platform:premium:user:elevation",services:["portal"],authenticated:!0,privileges:["premium:user:elevation"]},{permission:"platform:premium:user:featurereport",services:["portal"],authenticated:!0,privileges:["premium:user:featurereport"]},{permission:"platform:premium:user:geocode:stored",services:["portal"],authenticated:!0,privileges:["premium:user:geocode:stored"]},{permission:"platform:premium:user:geocode:temporary",services:["portal"],authenticated:!0,privileges:["premium:user:geocode:temporary"]},{permission:"platform:premium:user:geocode",services:["portal"],authenticated:!0,privileges:["premium:user:geocode"]},{permission:"platform:premium:user:geoenrichment",services:["portal"],authenticated:!0,privileges:["premium:user:geoenrichment"]},{permission:"platform:premium:user:networkanalysis:closestfacility",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:closestfacility"]},{permission:"platform:premium:user:networkanalysis:locationallocation",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:locationallocation"]},{permission:"platform:premium:user:networkanalysis:optimizedrouting",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:optimizedrouting"]},{permission:"platform:premium:user:networkanalysis:origindestinationcostmatrix",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:origindestinationcostmatrix"]},{permission:"platform:premium:user:networkanalysis:routing",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:routing"]},{permission:"platform:premium:user:networkanalysis:servicearea",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:servicearea"]},{permission:"platform:premium:user:networkanalysis:vehiclerouting",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis:vehiclerouting"]},{permission:"platform:premium:user:networkanalysis",services:["portal"],authenticated:!0,privileges:["premium:user:networkanalysis"]},{permission:"platform:premium:user:places",services:["portal"],authenticated:!0,privileges:["premium:user:places"]},{permission:"platform:premium:user:spatialanalysis",services:["portal"],authenticated:!0,privileges:["premium:user:spatialanalysis"]},{permission:"temp:workspace:released",availability:["alpha"],environments:["devext","qaext"]},...r,{permission:"hub:feature:privacy",availability:["alpha"],environments:["qaext"]},{permission:"hub:feature:workspace",availability:["alpha"],environments:["devext","qaext"]}],v=[{response:"granted",code:"PC100"},{response:"org-member",code:"PC101"},{response:"not-org-member",code:"PC102"},{response:"group-member",code:"PC103"},{response:"not-group-member",code:"PC104"},{response:"not-group-admin",code:"PC105"},{response:"is-user",code:"PC106"},{response:"not-owner",code:"PC107"},{response:"not-licensed",code:"PC108"},{response:"not-licensed-available",code:"PC109"},{response:"not-available",code:"PC110"},{response:"not-granted",code:"PC111"},{response:"no-edit-access",code:"PC112"},{response:"edit-access",code:"PC113"},{response:"invalid-permission",code:"PC114"},{response:"privilege-required",code:"PC115"},{response:"service-offline",code:"PC116"},{response:"service-maintenance",code:"PC117"},{response:"entity-required",code:"PC118"},{response:"not-authenticated",code:"PC119"},{response:"not-alpha-org",code:"PC120"},{response:"property-missing",code:"PC121"},{response:"property-not-array",code:"PC122"},{response:"array-contains-invalid-value",code:"PC123"},{response:"array-missing-required-value",code:"PC124"},{response:"property-mismatch",code:"PC125"},{response:"user-not-group-member",code:"PC126"},{response:"user-not-group-manager",code:"PC127"},{response:"user-not-group-owner",code:"PC128"},{response:"assertion-property-not-found",code:"PC129"},{response:"assertion-failed",code:"PC130"},{response:"assertion-requires-numeric-values",code:"PC131"},{response:"property-match",code:"PC132"},{response:"not-beta-org",code:"PC133"},{response:"not-in-environment",code:"PC134"},{response:"feature-disabled",code:"PC135"},{response:"feature-enabled",code:"PC136"},{response:"no-policy-exists",code:"PC137"},{response:"disabled-by-entity-flag",code:"PC137"},{response:"disabled-by-feature-flag",code:"PC137"}];function b(e){const r=v.find((r=>r.response===e));return(null==r?void 0:r.code)||"PC000"}function f(e,r){var s;const i=[];if(null===(s=e.licenses)||void 0===s?void 0:s.length){let s="granted";e.licenses.includes(r.hubLicense)||(s="not-available","hub-premium"===e.licenses[0]&&"hub-basic"===r.hubLicense&&(s="not-licensed"));const t={name:`license in ${e.licenses.join(", ")}`,value:r.hubLicense,code:b(s),response:s};i.push(t)}return i}const w=[...n,...l,...s,"hub:content:create","hub:content:edit","hub:content:view","hub:content:workspace","hub:content:workspace:overview","hub:content:workspace:dashboard","hub:content:workspace:details","hub:content:workspace:discussion","hub:content:workspace:settings","hub:content:workspace:collaborators","hub:content:manage","hub:group","hub:group:create","hub:group:delete","hub:group:edit","hub:group:view","hub:group:owner","hub:group:workspace","hub:group:workspace:overview","hub:group:workspace:dashboard","hub:group:workspace:details","hub:group:workspace:discussion","hub:group:workspace:settings","hub:group:workspace:collaborators","hub:group:workspace:content","hub:group:workspace:members","hub:group:shareContent","hub:group:manage",...u,"platform:features:user:edit","platform:features:user:fullEdit","platform:features:user:manageVersions","platform:marketplace:admin:manage","platform:marketplace:admin:purchase","platform:marketplace:admin:startTrial","platform:opendata:user:designateGroup","platform:opendata:user:openDataAdmin","platform:portal:admin:assignToGroups","platform:portal:admin:categorizeItems","platform:portal:admin:changeUserRoles","platform:portal:admin:createGPWebhook","platform:portal:admin:createUpdateCapableGroup","platform:portal:admin:deleteGroups","platform:portal:admin:deleteItems","platform:portal:admin:deleteUsers","platform:portal:admin:disableUsers","platform:portal:admin:inviteUsers","platform:portal:admin:manageCollaborations","platform:portal:admin:manageCredits","platform:portal:admin:manageEnterpriseGroups","platform:portal:admin:manageLicenses","platform:portal:admin:manageRoles","platform:portal:admin:manageSecurity","platform:portal:admin:manageServers","platform:portal:admin:manageUtilityServices","platform:portal:admin:manageWebhooks","platform:portal:admin:manageWebsite","platform:portal:admin:reassignGroups","platform:portal:admin:reassignItems","platform:portal:admin:reassignUsers","platform:portal:admin:shareToGroup","platform:portal:admin:shareToOrg","platform:portal:admin:shareToPublic","platform:portal:admin:updateGroups","platform:portal:admin:updateItemCategorySchema","platform:portal:admin:updateItems","platform:portal:admin:updateMemberCategorySchema","platform:portal:admin:updateUsers","platform:portal:admin:viewGroups","platform:portal:admin:viewItems","platform:portal:admin:viewUsers","platform:portal:publisher:bulkPublishFromDataStores","platform:portal:publisher:createDataPipelines","platform:portal:publisher:createFeatureWebhook","platform:portal:publisher:publishBigDataAnalytics","platform:portal:publisher:publishDynamicImagery","platform:portal:publisher:publishFeatures","platform:portal:publisher:publishFeeds","platform:portal:publisher:publishKnowledgeGraph","platform:portal:publisher:publishRealTimeAnalytics","platform:portal:publisher:publishScenes","platform:portal:publisher:publishServerGPServices","platform:portal:publisher:publishServerServices","platform:portal:publisher:publishTiledImagery","platform:portal:publisher:publishTiles","platform:portal:publisher:registerDataStores","platform:portal:user:addExternalMembersToGroup","platform:portal:user:categorizeItems","platform:portal:user:createGroup","platform:portal:user:createItem","platform:portal:user:invitePartneredCollaborationMembers","platform:portal:user:joinGroup","platform:portal:user:joinNonOrgGroup","platform:portal:user:reassignItems","platform:portal:user:receiveItems","platform:portal:user:runWebTool","platform:portal:user:shareGroupToOrg","platform:portal:user:shareGroupToPublic","platform:portal:user:shareToGroup","platform:portal:user:shareToOrg","platform:portal:user:shareToPublic","platform:portal:user:viewHostedFeatureServices","platform:portal:user:viewHostedTileServices","platform:portal:user:viewOrgGroups","platform:portal:user:viewOrgItems","platform:portal:user:viewOrgUsers","platform:portal:user:viewTracks","platform:premium:publisher:createAdvancedNotebooks","platform:premium:publisher:createNotebooks","platform:premium:publisher:geoanalytics","platform:premium:publisher:rasteranalysis","platform:premium:publisher:scheduleNotebooks","platform:premium:user:demographics","platform:premium:user:elevation","platform:premium:user:featurereport","platform:premium:user:geocode:stored","platform:premium:user:geocode:temporary","platform:premium:user:geocode","platform:premium:user:geoenrichment","platform:premium:user:networkanalysis:closestfacility","platform:premium:user:networkanalysis:locationallocation","platform:premium:user:networkanalysis:optimizedrouting","platform:premium:user:networkanalysis:origindestinationcostmatrix","platform:premium:user:networkanalysis:routing","platform:premium:user:networkanalysis:servicearea","platform:premium:user:networkanalysis:vehiclerouting","platform:premium:user:networkanalysis","platform:premium:user:places","platform:premium:user:spatialanalysis","temp:workspace:released","hub:discussion","hub:discussion:create","hub:discussion:delete","hub:discussion:edit","hub:discussion:view","hub:discussion:workspace:overview","hub:discussion:workspace:dashboard","hub:discussion:workspace:details","hub:discussion:workspace:settings","hub:discussion:workspace:collaborators","hub:discussion:workspace:discussion","hub:discussion:workspace:metrics","hub:discussion:manage",...i,...m,"hub:feature:privacy","hub:feature:workspace"];function y(e,r){const s=[];if(e.hasOwnProperty("authenticated")){let i="granted";e.authenticated&&!r.isAuthenticated&&(i="not-authenticated");const t={name:"authentication",value:`required: ${e.authenticated}`,code:b(i),response:i};s.push(t)}return s}function k(e,r,s){var i;const t=[];if(e.entityOwner){let e="granted",a="entity owner required";r.isAuthenticated?s?(a=`entity owner required: ${s.owner}`,s.owner!==r.currentUser.username&&(e="not-owner")):e="entity-required":e="not-authenticated";const o={name:a,value:`current user: ${null===(i=r.currentUser)||void 0===i?void 0:i.username}`,code:b(e),response:e};t.push(o)}return t}function P(e,r,s){const i=[];if(e.hasOwnProperty("entityEdit")){let r="granted";s?e.entityEdit&&!s.canEdit?r="no-edit-access":!e.entityEdit&&s.canEdit&&(r="edit-access"):r="entity-required";const t={name:"entity edit required",value:`entity.canEdit: ${d(s,"canEdit",!1)}`,code:b(r),response:r};i.push(t)}return i}function G(e,r){var s;let i=[];return(null===(s=e.privileges)||void 0===s?void 0:s.length)&&(i=e.privileges.map((e=>{let s="granted",i="privilege present";return r.isAuthenticated?r.currentUser.privileges.includes(e)||(s="privilege-required",i="privilege missing"):(s="not-authenticated",i="not authenticated"),{name:`privilege required: ${e}`,value:i,response:s,code:b(s)}}))),i}function C(e,r){return e.reduce(((e,s)=>(r.includes(s.userMembership.memberType)&&e.push(s.id),e)),[])}function T(e){let r="entity",s=`entity.${e}`;return e.indexOf(":")>-1&&(r=e.split(":")[0],s=`${r}.${e.split(":")[1]}`),{root:r,path:s}}function S(e,r,s){let i=[];return e.assertions&&(i=e.assertions.map((e=>function(e,r,s){let i="granted";const t={entity:r,context:s},a=T(e.property),o=h(t,a.path);void 0===o&&(i="assertion-property-not-found");let p=e.value;if("string"==typeof p&&p.indexOf(":")>-1){const r=T(e.value);p=h(t,r.path),void 0===p&&(i="assertion-property-not-found")}if(void 0!==o&&void 0!==p)switch(e.type){case"eq":case"neq":i=function(e,r,s){let i="granted";return("eq"===e.type&&r!==s||"neq"===e.type&&r===s)&&(i="assertion-failed"),i}(e,o,p);break;case"starts-with":case"ends-with":case"not-starts-with":case"not-ends-with":i=function(e,r,s){let i="granted";return"starts-with"!==e.type||r.startsWith(s)?"not-starts-with"===e.type&&r.startsWith(s)?i="assertion-failed":"ends-with"!==e.type||r.endsWith(s)?"not-ends-with"===e.type&&r.endsWith(s)&&(i="assertion-failed"):i="assertion-failed":i="assertion-failed",i}(e,o,p);break;case"contains":case"without":i=function(e,r,s){let i="granted";if(Array.isArray(r)){const t=r.includes(s);"contains"!==e.type||t||(i="array-missing-required-value"),"without"===e.type&&t&&(i="array-contains-invalid-value")}else i="property-not-array";return i}(e,o,p);break;case"included-in":i=function(e,r,s){let i="granted";return Array.isArray(s)?s.includes(r)||(i="array-missing-required-value"):i="property-not-array",i}(0,o,p);break;case"gt":case"lt":i=function(e,r,s){let i="granted";return"number"==typeof r&&"number"==typeof s||(i="assertion-requires-numeric-values"),("gt"===e.type&&r<s||"lt"===e.type&&r>s)&&(i="assertion-failed"),i}(e,o,p);break;case"is-group-admin":case"is-group-member":case"is-group-owner":i=function(e,r,s,i){let t="granted";const a=i.currentUser.groups||[];let o=c("id",a),p="user-not-group-member";return"is-group-member"===e.type&&(p="user-not-group-member",o=C(a,["admin","owner","member"])),"is-group-admin"===e.type&&(p="user-not-group-manager",o=C(a,["admin","owner"])),"is-group-owner"===e.type&&(p="user-not-group-owner",o=C(a,["owner"])),o.includes(s)||(t=p),t}(e,0,p,s)}return{name:`assertion: ${e.property} ${e.type} ${e.value}`,value:o,code:b(i),response:i}}(e,s,r)))),i}function I(e,r,s){var i;let t=[];return(null===(i=e.dependencies)||void 0===i?void 0:i.length)&&(t=e.dependencies.reduce(((e,i)=>{const t=q(i,r,s);return[...e,...t.checks]}),[])),t}function U(e,r){const s=[];if(e.environments&&e.environments.length){let i="granted";e.environments.includes(r.environment)||(i="not-in-environment");const t={name:`user in ${e.environments.join(",")} org`,value:r.environment,code:b(i),response:i};s.push(t)}return s}function O(e,r){let s=[];if(e.availability&&e.availability.length){const i=[];r.isAlphaOrg&&i.push("alpha"),r.isBetaOrg&&i.push("beta"),i.length||i.push("general"),s=e.availability.reduce(((e,r)=>{let s="granted";i.includes(r)||(s=`not-${r}-org`);const t={name:`user in ${r} org`,value:i.join(", "),code:b(s),response:s};return e.push(t),e}),[])}return s}function $(e,r){let s=[];if(e.services){const i=r.serviceStatus;s=e.services.map((e=>{let r="granted";return"online"!==i[e]&&(r=`service-${i[e]}`),{name:`service ${e} online`,value:`service is ${i[e]}`,code:b(r),response:r}}))}return s}function q(e,r,s){var i;const t=(null==s?void 0:s.label)||"",a=(null==s?void 0:s.entity)||s;if(!w.includes(e)){const r={policy:e,access:!1,response:"invalid-permission",code:b("invalid-permission"),checks:[]};return x(r,t),r}const o=function(e){return g.find((r=>r.permission===e))}(e);if(!o){const r={policy:e,access:!1,response:"no-policy-exists",code:b("no-policy-exists"),checks:[]};return x(r,t),r}const p={hasFlag:!1,value:!1,type:"none"};if(o.entityConfigurable&&(null===(i=null==a?void 0:a.features)||void 0===i?void 0:i.hasOwnProperty(e))&&(p.hasFlag=!0,p.value=a.features[e],p.type="entity"),r.featureFlags.hasOwnProperty(e)&&(p.hasFlag=!0,p.value=r.featureFlags[e],p.type="feature"),p.hasFlag&&!p.value){const r=`disabled-by-${p.type}-flag`,s={policy:e,access:!1,response:r,code:b(r),checks:[]};return x(s,t),s}const n=[I,$,y,G,k,P,f,S],l=[O,U];let u=[];u=p.hasFlag&&p.value&&"feature"===p.type?[...n]:[...l,...n];const m=u.reduce(((e,s)=>[...e,...s(o,r,a)]),[]),c={policy:e,access:!0,response:"granted",code:b("granted"),checks:[]};if(m.forEach((e=>{"granted"!==e.response&&"granted"===c.response&&(c.response=e.response,c.code=e.code,c.access=!1)})),c.checks=m,a){const s=d(a,"permissions",[]).filter((r=>r.permission===e)).map((e=>function(e,r){const s=r.currentUser||{groups:[]},i=s.groups||[];let t="not-granted";const a=e.collaborationType,o=e.collaborationId;if("user"===a&&(t=o===s.username?"granted":"not-granted"),"org"===a&&(t=o===s.orgId?"granted":"not-org-member"),"group"===a&&(t=i.find((e=>e.id===o))?"granted":"not-group-member"),"group-admin"===a){const e=i.find((e=>e.id===o)),r=h(e,"userMembership.memberType");t=["admin","owner"].includes(r)?"granted":"not-group-admin"}return"authenticated"===a&&(t=r.isAuthenticated?"granted":"not-authenticated"),"anonymous"===a&&(t="granted"),{name:"entity:policy",value:`${e.collaborationType}:${e.collaborationId}`,response:t,code:b(t)}}(e,r))),i=s.find((e=>"granted"===e.response));s.length&&!i&&"granted"===c.response&&(c.access=!1,c.response="not-granted"),c.checks=[...c.checks,...s]}return x(c,t),c}function x(e,r){e.access||(console.info(`checkPermission: ${r} ${e.policy} : ${e.response}`),console.dir(e),console.info("-----------------------------------------"))}export{q as c}