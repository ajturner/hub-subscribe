import{c as r,a as e}from"./p-dfe5a97d.js";var a=r((function(r,e){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(r){function e(){for(var r=arguments.length,e=Array(r),a=0;a<r;a++)e[a]=arguments[a];if(e.length>1){e[0]=e[0].slice(0,-1);for(var t=e.length-1,i=1;i<t;++i)e[i]=e[i].slice(1,-1);return e[t]=e[t].slice(1),e.join("")}return e[0]}function a(r){return"(?:"+r+")"}function t(r){return void 0===r?"undefined":null===r?"null":Object.prototype.toString.call(r).split(" ").pop().split("]").shift().toLowerCase()}function i(r){return r.toUpperCase()}function n(r){var t="[A-Za-z]",i="[0-9]",n=e(i,"[A-Fa-f]"),o=a(a("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+a("%[89A-Fa-f]"+n+"%"+n+n)+"|"+a("%"+n+n)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",f=e("[\\:\\/\\?\\#\\[\\]\\@]",s),u=r?"[\\uE000-\\uF8FF]":"[]",d=e(t,i,"[\\-\\.\\_\\~]",r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");a(t+e(t,i,"[\\+\\-\\.]")+"*"),a(a(o+"|"+e(d,s,"[\\:]"))+"*");var v=a(a("25[0-5]")+"|"+a("2[0-4][0-9]")+"|"+a("1[0-9][0-9]")+"|"+a("0?[1-9][0-9]")+"|0?0?"+i),l=a(v+"\\."+v+"\\."+v+"\\."+v),c=a(n+"{1,4}"),h=a(a(c+"\\:"+c)+"|"+l),m=a(a(c+"\\:")+"{6}"+h),p=a("\\:\\:"+a(c+"\\:")+"{5}"+h),y=a(a(c)+"?\\:\\:"+a(c+"\\:")+"{4}"+h),E=a(a(a(c+"\\:")+"{0,1}"+c)+"?\\:\\:"+a(c+"\\:")+"{3}"+h),g=a(a(a(c+"\\:")+"{0,2}"+c)+"?\\:\\:"+a(c+"\\:")+"{2}"+h),w=a(a(a(c+"\\:")+"{0,3}"+c)+"?\\:\\:"+c+"\\:"+h),b=a(a(a(c+"\\:")+"{0,4}"+c)+"?\\:\\:"+h),F=a(a(a(c+"\\:")+"{0,5}"+c)+"?\\:\\:"+c),P=a(a(a(c+"\\:")+"{0,6}"+c)+"?\\:\\:"),$=a([m,p,y,E,g,w,b,F,P].join("|")),j=a(a(d+"|"+o)+"+");a("[vV]"+n+"+\\."+e(d,s,"[\\:]")+"+"),a(a(o+"|"+e(d,s))+"*");var x=a(o+"|"+e(d,s,"[\\:\\@]"));return a(a(o+"|"+e(d,s,"[\\@]"))+"+"),a(a(x+"|"+e("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(e("[^]",t,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",d,s),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",d,s),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",d,s),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",d,s),"g"),NOT_QUERY:new RegExp(e("[^\\%]",d,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",d,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",d,s),"g"),UNRESERVED:new RegExp(d,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",d,f),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+l+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$+")"+a(a("\\%25|\\%(?!"+n+"{2})")+"("+j+")")+"?\\]?$")}}var o=n(!1),s=n(!0),f=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var a=[],t=!0,i=!1,n=void 0;try{for(var o,s=r[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);t=!0);}catch(r){i=!0,n=r}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}return a}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,d=36,v=/^xn--/,l=/[^\0-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,p=String.fromCharCode;function y(r){throw new RangeError(h[r])}function E(r,e){var a=r.split("@"),t="";return a.length>1&&(t=a[0]+"@",r=a[1]),t+function(r,e){for(var a=[],t=r.length;t--;)a[t]=e(r[t]);return a}((r=r.replace(c,".")).split("."),e).join(".")}function g(r){for(var e=[],a=0,t=r.length;a<t;){var i=r.charCodeAt(a++);if(i>=55296&&i<=56319&&a<t){var n=r.charCodeAt(a++);56320==(64512&n)?e.push(((1023&i)<<10)+(1023&n)+65536):(e.push(i),a--)}else e.push(i)}return e}var w=function(r,e){return r+22+75*(r<26)-((0!=e)<<5)},b=function(r,e,a){var t=0;for(r=a?m(r/700):r>>1,r+=m(r/e);r>455;t+=d)r=m(r/35);return m(t+36*r/(r+38))},F=function(r){var e,a=[],t=r.length,i=0,n=128,o=72,s=r.lastIndexOf("-");s<0&&(s=0);for(var f=0;f<s;++f)r.charCodeAt(f)>=128&&y("not-basic"),a.push(r.charCodeAt(f));for(var v=s>0?s+1:0;v<t;){for(var l=i,c=1,h=d;;h+=d){v>=t&&y("invalid-input");var p=(e=r.charCodeAt(v++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d;(p>=d||p>m((u-i)/c))&&y("overflow"),i+=p*c;var E=h<=o?1:h>=o+26?26:h-o;if(p<E)break;var g=d-E;c>m(u/g)&&y("overflow"),c*=g}var w=a.length+1;o=b(i-l,w,0==l),m(i/w)>u-n&&y("overflow"),n+=m(i/w),i%=w,a.splice(i++,0,n)}return String.fromCodePoint.apply(String,a)},P=function(r){var e=[],a=(r=g(r)).length,t=128,i=0,n=72,o=!0,s=!1,f=void 0;try{for(var v,l=r[Symbol.iterator]();!(o=(v=l.next()).done);o=!0){var c=v.value;c<128&&e.push(p(c))}}catch(r){s=!0,f=r}finally{try{!o&&l.return&&l.return()}finally{if(s)throw f}}var h=e.length,E=h;for(h&&e.push("-");E<a;){var F=u,P=!0,$=!1,j=void 0;try{for(var x,O=r[Symbol.iterator]();!(P=(x=O.next()).done);P=!0){var D=x.value;D>=t&&D<F&&(F=D)}}catch(r){$=!0,j=r}finally{try{!P&&O.return&&O.return()}finally{if($)throw j}}var S=E+1;F-t>m((u-i)/S)&&y("overflow"),i+=(F-t)*S,t=F;var _=!0,k=!1,I=void 0;try{for(var A,z=r[Symbol.iterator]();!(_=(A=z.next()).done);_=!0){var R=A.value;if(R<t&&++i>u&&y("overflow"),R==t){for(var N=i,V=d;;V+=d){var q=V<=n?1:V>=n+26?26:V-n;if(N<q)break;var C=N-q,T=d-q;e.push(p(w(q+C%T,0))),N=m(C/T)}e.push(p(w(N,0))),n=b(i,S,E==h),i=0,++E}}}catch(r){k=!0,I=r}finally{try{!_&&z.return&&z.return()}finally{if(k)throw I}}++i,++t}return e.join("")},$=function(r){return E(r,(function(r){return l.test(r)?"xn--"+P(r):r}))},j=function(r){return E(r,(function(r){return v.test(r)?F(r.slice(4).toLowerCase()):r}))},x={};function O(r){var e=r.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function D(r){for(var e="",a=0,t=r.length;a<t;){var i=parseInt(r.substr(a+1,2),16);if(i<128)e+=String.fromCharCode(i),a+=3;else if(i>=194&&i<224){if(t-a>=6){var n=parseInt(r.substr(a+4,2),16);e+=String.fromCharCode((31&i)<<6|63&n)}else e+=r.substr(a,6);a+=6}else if(i>=224){if(t-a>=9){var o=parseInt(r.substr(a+4,2),16),s=parseInt(r.substr(a+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else e+=r.substr(a,9);a+=9}else e+=r.substr(a,3),a+=3}return e}function S(r,e){function a(r){var a=D(r);return a.match(e.UNRESERVED)?a:r}return r.scheme&&(r.scheme=String(r.scheme).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==r.userinfo&&(r.userinfo=String(r.userinfo).replace(e.PCT_ENCODED,a).replace(e.NOT_USERINFO,O).replace(e.PCT_ENCODED,i)),void 0!==r.host&&(r.host=String(r.host).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_HOST,O).replace(e.PCT_ENCODED,i)),void 0!==r.path&&(r.path=String(r.path).replace(e.PCT_ENCODED,a).replace(r.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,O).replace(e.PCT_ENCODED,i)),void 0!==r.query&&(r.query=String(r.query).replace(e.PCT_ENCODED,a).replace(e.NOT_QUERY,O).replace(e.PCT_ENCODED,i)),void 0!==r.fragment&&(r.fragment=String(r.fragment).replace(e.PCT_ENCODED,a).replace(e.NOT_FRAGMENT,O).replace(e.PCT_ENCODED,i)),r}function _(r){return r.replace(/^0*(.*)/,"$1")||"0"}function k(r,e){var a=r.match(e.IPV4ADDRESS)||[],t=f(a,2)[1];return t?t.split(".").map(_).join("."):r}function I(r,e){var a=r.match(e.IPV6ADDRESS)||[],t=f(a,3),i=t[1],n=t[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=f(o,2),u=s[0],d=s[1],v=d?d.split(":").map(_):[],l=u.split(":").map(_),c=e.IPV4ADDRESS.test(l[l.length-1]),h=c?7:8,m=l.length-h,p=Array(h),y=0;y<h;++y)p[y]=v[y]||l[m+y]||"";c&&(p[h-1]=k(p[h-1],e));var E=p.reduce((function(r,e,a){if(!e||"0"===e){var t=r[r.length-1];t&&t.index+t.length===a?t.length++:r.push({index:a,length:1})}return r}),[]).sort((function(r,e){return e.length-r.length}))[0],g=void 0;if(E&&E.length>1){var w=p.slice(0,E.index),b=p.slice(E.index+E.length);g=w.join(":")+"::"+b.join(":")}else g=p.join(":");return n&&(g+="%"+n),g}return r}var A=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z=void 0==="".match(/(){0}/)[1];function R(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},t=!1!==e.iri?s:o;"suffix"===e.reference&&(r=(e.scheme?e.scheme+":":"")+"//"+r);var i=r.match(A);if(i){z?(a.scheme=i[1],a.userinfo=i[3],a.host=i[4],a.port=parseInt(i[5],10),a.path=i[6]||"",a.query=i[7],a.fragment=i[8],isNaN(a.port)&&(a.port=i[5])):(a.scheme=i[1]||void 0,a.userinfo=-1!==r.indexOf("@")?i[3]:void 0,a.host=-1!==r.indexOf("//")?i[4]:void 0,a.port=parseInt(i[5],10),a.path=i[6]||"",a.query=-1!==r.indexOf("?")?i[7]:void 0,a.fragment=-1!==r.indexOf("#")?i[8]:void 0,isNaN(a.port)&&(a.port=r.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),a.host&&(a.host=I(k(a.host,t),t)),a.reference=void 0!==a.scheme||void 0!==a.userinfo||void 0!==a.host||void 0!==a.port||a.path||void 0!==a.query?void 0===a.scheme?"relative":void 0===a.fragment?"absolute":"uri":"same-document",e.reference&&"suffix"!==e.reference&&e.reference!==a.reference&&(a.error=a.error||"URI is not a "+e.reference+" reference.");var n=x[(e.scheme||a.scheme||"").toLowerCase()];if(e.unicodeSupport||n&&n.unicodeSupport)S(a,t);else{if(a.host&&(e.domainHost||n&&n.domainHost))try{a.host=$(a.host.replace(t.PCT_ENCODED,D).toLowerCase())}catch(r){a.error=a.error||"Host's domain name can not be converted to ASCII via punycode: "+r}S(a,o)}n&&n.parse&&n.parse(a,e)}else a.error=a.error||"URI can not be parsed.";return a}function N(r,e){var a=!1!==e.iri?s:o,t=[];return void 0!==r.userinfo&&(t.push(r.userinfo),t.push("@")),void 0!==r.host&&t.push(I(k(String(r.host),a),a).replace(a.IPV6ADDRESS,(function(r,e,a){return"["+e+(a?"%25"+a:"")+"]"}))),"number"==typeof r.port&&(t.push(":"),t.push(r.port.toString(10))),t.length?t.join(""):void 0}var V=/^\.\.?\//,q=/^\/\.(\/|$)/,C=/^\/\.\.(\/|$)/,T=/^\/?(?:.|\n)*?(?=\/|$)/;function M(r){for(var e=[];r.length;)if(r.match(V))r=r.replace(V,"");else if(r.match(q))r=r.replace(q,"/");else if(r.match(C))r=r.replace(C,"/"),e.pop();else if("."===r||".."===r)r="";else{var a=r.match(T);if(!a)throw new Error("Unexpected dot segment condition");var t=a[0];r=r.slice(t.length),e.push(t)}return e.join("")}function B(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.iri?s:o,t=[],i=x[(e.scheme||r.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(r,e),r.host)if(a.IPV6ADDRESS.test(r.host));else if(e.domainHost||i&&i.domainHost)try{r.host=e.iri?j(r.host):$(r.host.replace(a.PCT_ENCODED,D).toLowerCase())}catch(a){r.error=r.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+a}S(r,a),"suffix"!==e.reference&&r.scheme&&(t.push(r.scheme),t.push(":"));var n=N(r,e);if(void 0!==n&&("suffix"!==e.reference&&t.push("//"),t.push(n),r.path&&"/"!==r.path.charAt(0)&&t.push("/")),void 0!==r.path){var f=r.path;e.absolutePath||i&&i.absolutePath||(f=M(f)),void 0===n&&(f=f.replace(/^\/\//,"/%2F")),t.push(f)}return void 0!==r.query&&(t.push("?"),t.push(r.query)),void 0!==r.fragment&&(t.push("#"),t.push(r.fragment)),t.join("")}function L(r,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t={};return arguments[3]||(r=R(B(r,a),a),e=R(B(e,a),a)),!(a=a||{}).tolerant&&e.scheme?(t.scheme=e.scheme,t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=M(e.path||""),t.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=M(e.path||""),t.query=e.query):(e.path?("/"===e.path.charAt(0)?t.path=M(e.path):(t.path=void 0===r.userinfo&&void 0===r.host&&void 0===r.port||r.path?r.path?r.path.slice(0,r.path.lastIndexOf("/")+1)+e.path:e.path:"/"+e.path,t.path=M(t.path)),t.query=e.query):(t.path=r.path,t.query=void 0!==e.query?e.query:r.query),t.userinfo=r.userinfo,t.host=r.host,t.port=r.port),t.scheme=r.scheme),t.fragment=e.fragment,t}function U(r,e){return r&&r.toString().replace(e&&e.iri?s.PCT_ENCODED:o.PCT_ENCODED,D)}var H={scheme:"http",domainHost:!0,parse:function(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r},serialize:function(r){return r.port!==("https"!==String(r.scheme).toLowerCase()?80:443)&&""!==r.port||(r.port=void 0),r.path||(r.path="/"),r}},J={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},K={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",G=a(a("%[EFef][0-9A-Fa-f]%"+Q+Q+"%"+Q+Q)+"|"+a("%[89A-Fa-f][0-9A-Fa-f]%"+Q+Q)+"|"+a("%"+Q+Q)),Y=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),W=new RegExp(Z,"g"),X=new RegExp(G,"g"),rr=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),er=new RegExp(e("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ar=er;function tr(r){var e=D(r);return e.match(W)?e:r}var ir={scheme:"mailto",parse:function(r,e){var a=r,t=a.to=a.path?a.path.split(","):[];if(a.path=void 0,a.query){for(var i=!1,n={},o=a.query.split("&"),s=0,f=o.length;s<f;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var d=u[1].split(","),v=0,l=d.length;v<l;++v)t.push(d[v]);break;case"subject":a.subject=U(u[1],e);break;case"body":a.body=U(u[1],e);break;default:i=!0,n[U(u[0],e)]=U(u[1],e)}}i&&(a.headers=n)}a.query=void 0;for(var c=0,h=t.length;c<h;++c){var m=t[c].split("@");if(m[0]=U(m[0]),e.unicodeSupport)m[1]=U(m[1],e).toLowerCase();else try{m[1]=$(U(m[1],e).toLowerCase())}catch(r){a.error=a.error||"Email address's domain name can not be converted to ASCII via punycode: "+r}t[c]=m.join("@")}return a},serialize:function(r,e){var a,t=r,n=null!=(a=r.to)?a instanceof Array?a:"number"!=typeof a.length||a.split||a.setInterval||a.call?[a]:Array.prototype.slice.call(a):[];if(n){for(var o=0,s=n.length;o<s;++o){var f=String(n[o]),u=f.lastIndexOf("@"),d=f.slice(0,u).replace(X,tr).replace(X,i).replace(rr,O),v=f.slice(u+1);try{v=e.iri?j(v):$(U(v,e).toLowerCase())}catch(r){t.error=t.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+r}n[o]=d+"@"+v}t.path=n.join(",")}var l=r.headers=r.headers||{};r.subject&&(l.subject=r.subject),r.body&&(l.body=r.body);var c=[];for(var h in l)l[h]!==K[h]&&c.push(h.replace(X,tr).replace(X,i).replace(er,O)+"="+l[h].replace(X,tr).replace(X,i).replace(ar,O));return c.length&&(t.query=c.join("&")),t}},nr=/^([^\:]+)\:(.*)/,or={scheme:"urn",parse:function(r,e){var a=r.path&&r.path.match(nr),t=r;if(a){var i=e.scheme||t.scheme||"urn",n=a[1].toLowerCase(),o=a[2],s=x[i+":"+(e.nid||n)];t.nid=n,t.nss=o,t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t},serialize:function(r,e){var a=r.nid,t=x[(e.scheme||r.scheme||"urn")+":"+(e.nid||a)];t&&(r=t.serialize(r,e));var i=r;return i.path=(a||e.nid)+":"+r.nss,i}},sr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,fr={scheme:"urn:uuid",parse:function(r,e){var a=r;return a.uuid=a.nss,a.nss=void 0,e.tolerant||a.uuid&&a.uuid.match(sr)||(a.error=a.error||"UUID is not valid."),a},serialize:function(r){var e=r;return e.nss=(r.uuid||"").toLowerCase(),e}};x[H.scheme]=H,x[J.scheme]=J,x[ir.scheme]=ir,x[or.scheme]=or,x[fr.scheme]=fr,r.SCHEMES=x,r.pctEncChar=O,r.pctDecChars=D,r.parse=R,r.removeDotSegments=M,r.serialize=B,r.resolveComponents=L,r.resolve=function(r,e,a){var t=function(r,e){var a=r;if(e)for(var t in e)a[t]=e[t];return a}({scheme:"null"},a);return B(L(R(r,t),R(e,t),t,!0),t)},r.normalize=function(r,e){return"string"==typeof r?r=B(R(r,e),e):"object"===t(r)&&(r=R(B(r,e),e)),r},r.equal=function(r,e,a){return"string"==typeof r?r=B(R(r,a),a):"object"===t(r)&&(r=B(r,a)),"string"==typeof e?e=B(R(e,a),a):"object"===t(e)&&(e=B(e,a)),r===e},r.escapeComponent=function(r,e){return r&&r.toString().replace(e&&e.iri?s.ESCAPE:o.ESCAPE,O)},r.unescapeComponent=U,Object.defineProperty(r,"__esModule",{value:!0})}(e)})),t=function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var t,i,n;if(Array.isArray(e)){if((t=e.length)!=a.length)return!1;for(i=t;0!=i--;)if(!r(e[i],a[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((t=(n=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(a,n[i]))return!1;for(i=t;0!=i--;){var o=n[i];if(!r(e[o],a[o]))return!1}return!0}return e!=e&&a!=a},i={copy:function(r,e){for(var a in e=e||{},r)e[a]=r[a];return e},checkDataType:n,checkDataTypes:function(r,e,a){switch(r.length){case 1:return n(r[0],e,a,!0);default:var t="",i=s(r);for(var o in i.array&&i.object&&(t=i.null?"(":"(!"+e+" || ",t+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)t+=(t?" && ":"")+n(o,e,a,!0);return t}},coerceToTypes:function(r,e){if(Array.isArray(e)){for(var a=[],t=0;t<e.length;t++){var i=e[t];(o[i]||"array"===r&&"array"===i)&&(a[a.length]=i)}if(a.length)return a}else{if(o[e])return[e];if("array"===r&&"array"===e)return["array"]}},toHash:s,getProperty:d,escapeQuotes:v,equal:t,ucs2length:function(r){for(var e,a=0,t=r.length,i=0;i<t;)a++,(e=r.charCodeAt(i++))>=55296&&e<=56319&&i<t&&56320==(64512&(e=r.charCodeAt(i)))&&i++;return a},varOccurences:function(r,e){var a=r.match(new RegExp(e+="[^0-9]","g"));return a?a.length:0},varReplace:function(r,e,a){return e+="([^0-9])",a=a.replace(/\$/g,"$$$$"),r.replace(new RegExp(e,"g"),a+"$1")},schemaHasRules:function(r,e){if("boolean"==typeof r)return!r;for(var a in r)if(e[a])return!0},schemaHasRulesExcept:function(r,e,a){if("boolean"==typeof r)return!r&&"not"!=a;for(var t in r)if(t!=a&&e[t])return!0},schemaUnknownRules:function(r,e){if("boolean"!=typeof r)for(var a in r)if(!e[a])return a},toQuotedString:l,getPathExpr:function(r,e,a,t){return m(r,a?"'/' + "+e+(t?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):t?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(r,e,a){return m(r,l(a?"/"+p(e):d(e)))},getData:function(r,e,a){var t,i,n,o;if(""===r)return"rootData";if("/"==r[0]){if(!c.test(r))throw new Error("Invalid JSON-pointer: "+r);i=r,n="rootData"}else{if(!(o=r.match(h)))throw new Error("Invalid JSON-pointer: "+r);if(t=+o[1],"#"==(i=o[2])){if(t>=e)throw new Error("Cannot access property/index "+t+" levels up, current level is "+e);return a[e-t]}if(t>e)throw new Error("Cannot access data "+t+" levels up, current level is "+e);if(n="data"+(e-t||""),!i)return n}for(var s=n,f=i.split("/"),u=0;u<f.length;u++){var v=f[u];v&&(s+=" && "+(n+=d(y(v))))}return s},unescapeFragment:function(r){return y(decodeURIComponent(r))},unescapeJsonPointer:y,escapeFragment:function(r){return encodeURIComponent(p(r))},escapeJsonPointer:p};function n(r,e,a,t){var i=t?" !== ":" === ",n=t?" || ":" && ",o=t?"!":"",s=t?"":"!";switch(r){case"null":return e+i+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+n+"typeof "+e+i+'"object"'+n+s+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+n+s+"("+e+" % 1)"+n+e+i+e+(a?n+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+r+'"'+(a?n+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+r+'"'}}var o=s(["string","number","integer","boolean","null"]);function s(r){for(var e={},a=0;a<r.length;a++)e[r[a]]=!0;return e}var f=/^[a-z$_][a-z$_0-9]*$/i,u=/'|\\/g;function d(r){return"number"==typeof r?"["+r+"]":f.test(r)?"."+r:"['"+v(r)+"']"}function v(r){return r.replace(u,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(r){return"'"+v(r)+"'"}var c=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function m(r,e){return'""'==r?e:(r+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function p(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function y(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}var E=function(r){i.copy(r,this)},g=r((function(r){var e=r.exports=function(r,e,t){"function"==typeof e&&(t=e,e={}),a(e,"function"==typeof(t=e.cb||t)?t:t.pre||function(){},t.post||function(){},r,"",r)};function a(r,t,i,n,o,s,f,u,d,v){if(n&&"object"==typeof n&&!Array.isArray(n)){for(var l in t(n,o,s,f,u,d,v),n){var c=n[l];if(Array.isArray(c)){if(l in e.arrayKeywords)for(var h=0;h<c.length;h++)a(r,t,i,c[h],o+"/"+l+"/"+h,s,o,l,n,h)}else if(l in e.propsKeywords){if(c&&"object"==typeof c)for(var m in c)a(r,t,i,c[m],o+"/"+l+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,l,n,m)}else(l in e.keywords||r.allKeys&&!(l in e.skipKeywords))&&a(r,t,i,c,o+"/"+l,s,o,l,n)}i(n,o,s,f,u,d,v)}}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),w=b;function b(r,e,a){var t=this._refs[a];if("string"==typeof t){if(!this._refs[t])return b.call(this,r,e,t);t=this._refs[t]}if((t=t||this._schemas[a])instanceof E)return O(t.schema,this._opts.inlineRefs)?t.schema:t.validate||this._compile(t);var i,n,o,s=F.call(this,e,a);return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof E?n=i.validate||r.call(this,i.schema,e,void 0,o):void 0!==i&&(n=O(i,this._opts.inlineRefs)?i:r.call(this,i,e,void 0,o)),n}function F(r,e){var t=a.parse(e),i=k(t),n=_(this._getId(r.schema));if(0===Object.keys(r.schema).length||i!==n){var o=A(i),s=this._refs[o];if("string"==typeof s)return P.call(this,r,s,t);if(s instanceof E)s.validate||this._compile(s),r=s;else{if(!((s=this._schemas[o])instanceof E))return;if(s.validate||this._compile(s),o==A(e))return{schema:s,root:r,baseId:n};r=s}if(!r.schema)return;n=_(this._getId(r.schema))}return j.call(this,t,n,r.schema,r)}function P(r,e,a){var t=F.call(this,r,e);if(t){var i=t.schema,n=t.baseId;r=t.root;var o=this._getId(i);return o&&(n=z(n,o)),j.call(this,a,n,i,r)}}b.normalizeId=A,b.fullPath=_,b.url=z,b.ids=function(r){var e=A(this._getId(r)),n={"":e},o={"":_(e,!1)},s={},f=this;return g(r,{allKeys:!0},(function(r,e,u,d,v,l,c){if(""!==e){var h=f._getId(r),m=n[d],p=o[d]+"/"+v;if(void 0!==c&&(p+="/"+("number"==typeof c?c:i.escapeFragment(c))),"string"==typeof h){h=m=A(m?a.resolve(m,h):h);var y=f._refs[h];if("string"==typeof y&&(y=f._refs[y]),y&&y.schema){if(!t(r,y.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=A(p))if("#"==h[0]){if(s[h]&&!t(r,s[h]))throw new Error('id "'+h+'" resolves to more than one schema');s[h]=r}else f._refs[h]=p}n[e]=m,o[e]=p}})),s},b.inlineRef=O,b.schema=F;var $=i.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function j(r,e,a,t){if(r.fragment=r.fragment||"","/"==r.fragment.slice(0,1)){for(var n=r.fragment.split("/"),o=1;o<n.length;o++){var s=n[o];if(s){if(void 0===(a=a[s=i.unescapeFragment(s)]))break;var f;if(!$[s]&&((f=this._getId(a))&&(e=z(e,f)),a.$ref)){var u=z(e,a.$ref),d=F.call(this,t,u);d&&(a=d.schema,t=d.root,e=d.baseId)}}}return void 0!==a&&a!==t.schema?{schema:a,root:t,baseId:e}:void 0}}var x=i.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function O(r,e){return!1!==e&&(void 0===e||!0===e?D(r):e?S(r)<=e:void 0)}function D(r){var e;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if("object"==typeof(e=r[a])&&!D(e))return!1}else for(var t in r){if("$ref"==t)return!1;if("object"==typeof(e=r[t])&&!D(e))return!1}return!0}function S(r){var e,a=0;if(Array.isArray(r)){for(var t=0;t<r.length;t++)if("object"==typeof(e=r[t])&&(a+=S(e)),a==1/0)return 1/0}else for(var i in r){if("$ref"==i)return 1/0;if(x[i])a++;else if("object"==typeof(e=r[i])&&(a+=S(e)+1),a==1/0)return 1/0}return a}function _(r,e){return!1!==e&&(r=A(r)),k(a.parse(r))}function k(r){return a.serialize(r).split("#")[0]+"#"}var I=/#\/?$/;function A(r){return r?r.replace(I,""):""}function z(r,e){return e=A(e),a.resolve(r,e)}var R={Validation:V((function(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0})),MissingRef:V(N)};function N(r,e,a){this.message=a||N.message(r,e),this.missingRef=w.url(r,e),this.missingSchema=w.normalizeId(w.fullPath(this.missingRef))}function V(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}N.message=function(r,e){return"can't resolve reference "+e+" from id "+r};var q=function(r,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var a,t="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(a=e.cmp,function(r){return function(e,t){return a({key:e,value:r[e]},{key:t,value:r[t]})}}),n=[];return function r(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var a,o;if(Array.isArray(e)){for(o="[",a=0;a<e.length;a++)a&&(o+=","),o+=r(e[a])||"null";return o+"]"}if(null===e)return"null";if(-1!==n.indexOf(e)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=n.push(e)-1,f=Object.keys(e).sort(i&&i(e));for(o="",a=0;a<f.length;a++){var u=f[a],d=r(e[u]);d&&(o&&(o+=","),o+=JSON.stringify(u)+":"+d)}return n.splice(s,1),"{"+o+"}"}}(r)},C=function(r,e){var a="",t=!0===r.schema.$async,i=r.util.schemaHasRulesExcept(r.schema,r.RULES.all,"$ref"),n=r.self._getId(r.schema);if(r.opts.strictKeywords){var o=r.util.schemaUnknownRules(r.schema,r.RULES.keywords);if(o){var s="unknown keyword: "+o;if("log"!==r.opts.strictKeywords)throw new Error(s);r.logger.warn(s)}}if(r.isTop&&(a+=" var validate = ",t&&(r.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",n&&(r.opts.sourceCode||r.opts.processCode)&&(a+=" /*# sourceURL="+n+" */ ")),"boolean"==typeof r.schema||!i&&!r.schema.$ref){var f=r.level,u=r.dataLevel,d=r.schema[e="false schema"],v=r.schemaPath+r.util.getProperty(e),l=r.errSchemaPath+"/"+e,c=!r.opts.allErrors,h="data"+(u||""),m="valid"+f;if(!1===r.schema){r.isTop?c=!0:a+=" var "+m+" = false; ",(L=L||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'boolean schema is false' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var p=a;a=L.pop(),a+=!r.compositeRule&&c?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else a+=r.isTop?t?" return data; ":" validate.errors = null; return true; ":" var "+m+" = true; ";return r.isTop&&(a+=" }; return validate; "),a}if(r.isTop){var y=r.isTop;if(f=r.level=0,u=r.dataLevel=0,h="data",r.rootId=r.resolve.fullPath(r.self._getId(r.root.schema)),r.baseId=r.baseId||r.rootId,delete r.isTop,r.dataPathArr=[""],void 0!==r.schema.default&&r.opts.useDefaults&&r.opts.strictDefaults){var E="default is ignored in the schema root";if("log"!==r.opts.strictDefaults)throw new Error(E);r.logger.warn(E)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{if(f=r.level,h="data"+((u=r.dataLevel)||""),n&&(r.baseId=r.resolve.url(r.baseId,n)),t&&!r.async)throw new Error("async schema in sync schema");a+=" var errs_"+f+" = errors;"}m="valid"+f,c=!r.opts.allErrors;var g="",w="",b=r.schema.type,F=Array.isArray(b);if(b&&r.opts.nullable&&!0===r.schema.nullable&&(F?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],F=!0)),F&&1==b.length&&(b=b[0],F=!1),r.schema.$ref&&i){if("fail"==r.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+r.errSchemaPath+'" (see option extendRefs)');!0!==r.opts.extendRefs&&(i=!1,r.logger.warn('$ref: keywords ignored in schema at path "'+r.errSchemaPath+'"'))}if(r.schema.$comment&&r.opts.$comment&&(a+=" "+r.RULES.all.$comment.code(r,"$comment")),b){if(r.opts.coerceTypes)var P=r.util.coerceToTypes(r.opts.coerceTypes,b);var $=r.RULES.types[b];if(P||F||!0===$||$&&!Q($)){if(v=r.schemaPath+".type",l=r.errSchemaPath+"/type",v=r.schemaPath+".type",l=r.errSchemaPath+"/type",a+=" if ("+r.util[F?"checkDataTypes":"checkDataType"](b,h,r.opts.strictNumbers,!0)+") { ",P){var j="dataType"+f,x="coerced"+f;a+=" var "+j+" = typeof "+h+"; var "+x+" = undefined; ","array"==r.opts.coerceTypes&&(a+=" if ("+j+" == 'object' && Array.isArray("+h+") && "+h+".length == 1) { "+h+" = "+h+"[0]; "+j+" = typeof "+h+"; if ("+r.util.checkDataType(r.schema.type,h,r.opts.strictNumbers)+") "+x+" = "+h+"; } "),a+=" if ("+x+" !== undefined) ; ";var O=P;if(O)for(var D,S=-1,_=O.length-1;S<_;)"string"==(D=O[S+=1])?a+=" else if ("+j+" == 'number' || "+j+" == 'boolean') "+x+" = '' + "+h+"; else if ("+h+" === null) "+x+" = ''; ":"number"==D||"integer"==D?(a+=" else if ("+j+" == 'boolean' || "+h+" === null || ("+j+" == 'string' && "+h+" && "+h+" == +"+h+" ","integer"==D&&(a+=" && !("+h+" % 1)"),a+=")) "+x+" = +"+h+"; "):"boolean"==D?a+=" else if ("+h+" === 'false' || "+h+" === 0 || "+h+" === null) "+x+" = false; else if ("+h+" === 'true' || "+h+" === 1) "+x+" = true; ":"null"==D?a+=" else if ("+h+" === '' || "+h+" === 0 || "+h+" === false) "+x+" = null; ":"array"==r.opts.coerceTypes&&"array"==D&&(a+=" else if ("+j+" == 'string' || "+j+" == 'number' || "+j+" == 'boolean' || "+h+" == null) "+x+" = ["+h+"]; ");(L=L||[]).push(a+=" else {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: { type: '",a+=F?""+b.join(","):""+b,a+="' } ",!1!==r.opts.messages&&(a+=" , message: 'should be ",a+=F?""+b.join(","):""+b,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",p=a,a=L.pop(),a+=!r.compositeRule&&c?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+x+" !== undefined) {  ";var k=u?"data"+(u-1||""):"parentData";a+=" "+h+" = "+x+"; ",u||(a+="if ("+k+" !== undefined)"),a+=" "+k+"["+(u?r.dataPathArr[u]:"parentDataProperty")+"] = "+x+"; } "}else(L=L||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: { type: '",a+=F?""+b.join(","):""+b,a+="' } ",!1!==r.opts.messages&&(a+=" , message: 'should be ",a+=F?""+b.join(","):""+b,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",p=a,a=L.pop(),a+=!r.compositeRule&&c?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a+=" } "}}if(r.schema.$ref&&!i)a+=" "+r.RULES.all.$ref.code(r,"$ref")+" ",c&&(a+=" } if (errors === ",a+=y?"0":"errs_"+f,a+=") { ",w+="}");else{var I=r.RULES;if(I)for(var A=-1,z=I.length-1;A<z;)if(Q($=I[A+=1])){if($.type&&(a+=" if ("+r.util.checkDataType($.type,h,r.opts.strictNumbers)+") { "),r.opts.useDefaults)if("object"==$.type&&r.schema.properties){d=r.schema.properties;var R=Object.keys(d);if(R)for(var N,V=-1,q=R.length-1;V<q;)if(void 0!==(M=d[N=R[V+=1]]).default){var C=h+r.util.getProperty(N);if(r.compositeRule){if(r.opts.strictDefaults){if(E="default is ignored for: "+C,"log"!==r.opts.strictDefaults)throw new Error(E);r.logger.warn(E)}}else a+=" if ("+C+" === undefined ","empty"==r.opts.useDefaults&&(a+=" || "+C+" === null || "+C+" === '' "),a+=" ) "+C+" = ",a+="shared"==r.opts.useDefaults?" "+r.useDefault(M.default)+" ":" "+JSON.stringify(M.default)+" ",a+="; "}}else if("array"==$.type&&Array.isArray(r.schema.items)){var T=r.schema.items;if(T){S=-1;for(var M,B=T.length-1;S<B;)if(void 0!==(M=T[S+=1]).default)if(C=h+"["+S+"]",r.compositeRule){if(r.opts.strictDefaults){if(E="default is ignored for: "+C,"log"!==r.opts.strictDefaults)throw new Error(E);r.logger.warn(E)}}else a+=" if ("+C+" === undefined ","empty"==r.opts.useDefaults&&(a+=" || "+C+" === null || "+C+" === '' "),a+=" ) "+C+" = ",a+="shared"==r.opts.useDefaults?" "+r.useDefault(M.default)+" ":" "+JSON.stringify(M.default)+" ",a+="; "}}var L,U=$.rules;if(U)for(var H,J=-1,K=U.length-1;J<K;)if(G(H=U[J+=1])){var Z=H.code(r,H.keyword,$.type);Z&&(a+=" "+Z+" ",c&&(g+="}"))}if(c&&(a+=" "+g+" ",g=""),$.type&&(a+=" } ",b&&b===$.type&&!P))v=r.schemaPath+".type",l=r.errSchemaPath+"/type",(L=L||[]).push(a+=" else { "),a="",!1!==r.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(l)+" , params: { type: '",a+=F?""+b.join(","):""+b,a+="' } ",!1!==r.opts.messages&&(a+=" , message: 'should be ",a+=F?""+b.join(","):""+b,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",p=a,a=L.pop(),a+=!r.compositeRule&&c?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ";c&&(a+=" if (errors === ",a+=y?"0":"errs_"+f,a+=") { ",w+="}")}}function Q(r){for(var e=r.rules,a=0;a<e.length;a++)if(G(e[a]))return!0}function G(e){return void 0!==r.schema[e.keyword]||e.implements&&function(e){for(var a=e.implements,t=0;t<a.length;t++)if(void 0!==r.schema[a[t]])return!0}(e)}return c&&(a+=" "+w+" "),y?(t?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+m+" = errors === errs_"+f+";",a},T=i.ucs2length,M=R.Validation,B=function r(e,a,n,o){var s=this,f=this._opts,u=[void 0],d={},v=[],l={},c=[],h={},m=[],p=L.call(this,e,a=a||{schema:e,refVal:u,refs:d},o),y=this._compilations[p.index];if(p.compiling)return y.callValidate=function r(){var e=y.validate,a=e.apply(this,arguments);return r.errors=e.errors,a};var E=this._formats,g=this.RULES;try{var b=P(e,a,n,o);y.validate=b;var F=y.callValidate;return F&&(F.schema=b.schema,F.errors=null,F.refs=b.refs,F.refVal=b.refVal,F.root=b.root,F.$async=b.$async,f.sourceCode&&(F.source=b.source)),b}finally{U.call(this,e,a,o)}function P(e,n,o,l){var h=!n||n&&n.schema==e;if(n.schema!=a.schema)return r.call(s,e,n,o,l);var p,y=!0===e.$async,b=C({isTop:!0,schema:e,isRoot:h,baseId:l,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:R.MissingRef,RULES:g,validate:C,util:i,resolve:w,resolveRef:$,usePattern:O,useDefault:D,useCustomRule:S,opts:f,formats:E,logger:s.logger,self:s});b=G(u,Z)+G(v,J)+G(c,K)+G(m,Q)+b,f.processCode&&(b=f.processCode(b,e));try{p=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",b)(s,g,E,a,u,c,m,t,T,M),u[0]=p}catch(r){throw s.logger.error("Error compiling schema, function code:",b),r}return p.schema=e,p.errors=null,p.refs=d,p.refVal=u,p.root=h?p:n,y&&(p.$async=!0),!0===f.sourceCode&&(p.source={code:b,patterns:v,defaults:c}),p}function $(e,t,i){t=w.url(e,t);var o,v,l=d[t];if(void 0!==l)return x(o=u[l],v="refVal["+l+"]");if(!i&&a.refs){var c=a.refs[t];if(void 0!==c)return x(o=a.refVal[c],v=j(t,o))}v=j(t);var h=w.call(s,P,a,t);if(void 0===h){var m=n&&n[t];m&&(h=w.inlineRef(m,f.inlineRefs)?m:r.call(s,m,a,n,e))}if(void 0!==h)return function(r,e){u[d[r]]=e}(t,h),x(h,v);!function(r){delete d[r]}(t)}function j(r,e){var a=u.length;return u[a]=e,d[r]=a,"refVal"+a}function x(r,e){return"object"==typeof r||"boolean"==typeof r?{code:e,schema:r,inline:!0}:{code:e,$async:r&&!!r.$async}}function O(r){var e=l[r];return void 0===e&&(e=l[r]=v.length,v[e]=r),"pattern"+e}function D(r){switch(typeof r){case"boolean":case"number":return""+r;case"string":return i.toQuotedString(r);case"object":if(null===r)return"null";var e=q(r),a=h[e];return void 0===a&&(a=h[e]=c.length,c[a]=r),"default"+a}}function S(r,e,a,t){if(!1!==s._opts.validateSchema){var i=r.definition.dependencies;if(i&&!i.every((function(r){return Object.prototype.hasOwnProperty.call(a,r)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var n=r.definition.validateSchema;if(n&&!n(e)){var o="keyword schema is invalid: "+s.errorsText(n.errors);if("log"!=s._opts.validateSchema)throw new Error(o);s.logger.error(o)}}var u,d=r.definition.compile,v=r.definition.inline,l=r.definition.macro;if(d)u=d.call(s,e,a,t);else if(l)u=l.call(s,e,a,t),!1!==f.validateSchema&&s.validateSchema(u,!0);else if(v)u=v.call(s,t,r.keyword,e,a);else if(!(u=r.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+r.keyword+'"failed to compile');var c=m.length;return m[c]=u,{code:"customRule"+c,validate:u}}};function L(r,e,a){var t=H.call(this,r,e,a);return t>=0?{index:t,compiling:!0}:(this._compilations[t=this._compilations.length]={schema:r,root:e,baseId:a},{index:t,compiling:!1})}function U(r,e,a){var t=H.call(this,r,e,a);t>=0&&this._compilations.splice(t,1)}function H(r,e,a){for(var t=0;t<this._compilations.length;t++){var i=this._compilations[t];if(i.schema==r&&i.root==e&&i.baseId==a)return t}return-1}function J(r,e){return"var pattern"+r+" = new RegExp("+i.toQuotedString(e[r])+");"}function K(r){return"var default"+r+" = defaults["+r+"];"}function Z(r,e){return void 0===e[r]?"":"var refVal"+r+" = refVal["+r+"];"}function Q(r){return"var customRule"+r+" = customRules["+r+"];"}function G(r,e){if(!r.length)return"";for(var a="",t=0;t<r.length;t++)a+=e(t,r);return a}var Y=r((function(r){var e=r.exports=function(){this._cache={}};e.prototype.put=function(r,e){this._cache[r]=e},e.prototype.get=function(r){return this._cache[r]},e.prototype.del=function(r){delete this._cache[r]},e.prototype.clear=function(){this._cache={}}})),W=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,X=[0,31,28,31,30,31,30,31,31,30,31,30,31],rr=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,er=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ar=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,tr=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,ir=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,nr=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,or=/^(?:\/(?:[^~/]|~0|~1)*)*$/,sr=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,fr=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ur=dr;function dr(r){return i.copy(dr[r="full"==r?"full":"fast"])}function vr(r){var e=r.match(W);if(!e)return!1;var a,t=+e[2],i=+e[3];return t>=1&&t<=12&&i>=1&&i<=(2!=t||((a=+e[1])%4!=0||a%100==0&&a%400!=0)?X[t]:29)}function lr(r,e){var a=r.match(rr);if(!a)return!1;var t=a[1],i=a[2],n=a[3];return(t<=23&&i<=59&&n<=59||23==t&&59==i&&60==n)&&(!e||a[5])}dr.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":tr,url:ir,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:er,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:pr,uuid:nr,"json-pointer":or,"json-pointer-uri-fragment":sr,"relative-json-pointer":fr},dr.full={date:vr,time:lr,"date-time":function(r){var e=r.split(cr);return 2==e.length&&vr(e[0])&&lr(e[1],!0)},uri:function(r){return hr.test(r)&&ar.test(r)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":tr,url:ir,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:er,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:pr,uuid:nr,"json-pointer":or,"json-pointer-uri-fragment":sr,"relative-json-pointer":fr};var cr=/t|\s/i,hr=/\/|:/,mr=/[^\\]\\Z/;function pr(r){if(mr.test(r))return!1;try{return!0}catch(r){return!1}}var yr=function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o;var l="maximum"==e,c=l?"exclusiveMaximum":"exclusiveMinimum",h=r.schema[c],m=r.opts.$data&&h&&h.$data,p=l?"<":">",y=l?">":"<",E=void 0;if(!v&&"number"!=typeof o&&void 0!==o)throw new Error(e+" must be number");if(!m&&void 0!==h&&"number"!=typeof h&&"boolean"!=typeof h)throw new Error(c+" must be number or boolean");if(m){var g,w=r.util.getData(h.$data,n,r.dataPathArr),b="exclusive"+i,F="exclType"+i,P="exclIsNumber"+i,$="' + "+(x="op"+i)+" + '";t+=" var schemaExcl"+i+" = "+w+"; ",E=c,(g=g||[]).push(t+=" var "+b+"; var "+F+" = typeof "+(w="schemaExcl"+i)+"; if ("+F+" != 'boolean' && "+F+" != 'undefined' && "+F+" != 'number') { "),t="",!1!==r.createErrors?(t+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: '"+c+" should be boolean' "),r.opts.verbose&&(t+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var j=t;t=g.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),t+=" "+F+" == 'number' ? ( ("+b+" = "+a+" === undefined || "+w+" "+p+"= "+a+") ? "+d+" "+y+"= "+w+" : "+d+" "+y+" "+a+" ) : ( ("+b+" = "+w+" === true) ? "+d+" "+y+"= "+a+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { var op"+i+" = "+b+" ? '"+p+"' : '"+p+"='; ",void 0===o&&(E=c,f=r.errSchemaPath+"/"+c,a=w,v=m)}else if($=p,(P="number"==typeof h)&&v){var x="'"+$+"'";t+=" if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),t+=" ( "+a+" === undefined || "+h+" "+p+"= "+a+" ? "+d+" "+y+"= "+h+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { "}else P&&void 0===o?(b=!0,E=c,f=r.errSchemaPath+"/"+c,a=h,y+="="):(P&&(a=Math[l?"min":"max"](h,o)),h===(!P||a)?(b=!0,E=c,f=r.errSchemaPath+"/"+c,y+="="):(b=!1,$+="=")),x="'"+$+"'",t+=" if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),t+=" "+d+" "+y+" "+a+" || "+d+" !== "+d+") { ";return E=E||e,(g=g||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { comparison: "+x+", limit: "+a+", exclusive: "+b+" } ",!1!==r.opts.messages&&(t+=" , message: 'should be "+$+" ",t+=v?"' + "+a:a+"'"),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",j=t,t=g.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",u&&(t+=" else { "),t},Er=function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;if(v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o,!v&&"number"!=typeof o)throw new Error(e+" must be number");t+="if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || ");var l=e,c=c||[];c.push(t+=" "+d+".length "+("maxItems"==e?">":"<")+" "+a+") { "),t="",!1!==r.createErrors?(t+=" { keyword: '"+(l||"_limitItems")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { limit: "+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should NOT have ",t+="maxItems"==e?"more":"fewer",t+=" than ",t+=v?"' + "+a+" + '":""+o,t+=" items' "),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var h=t;return t=c.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",u&&(t+=" else { "),t},gr=function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;if(v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o,!v&&"number"!=typeof o)throw new Error(e+" must be number");t+="if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),t+=!1===r.opts.unicode?" "+d+".length ":" ucs2length("+d+") ";var l=e,c=c||[];c.push(t+=" "+("maxLength"==e?">":"<")+" "+a+") { "),t="",!1!==r.createErrors?(t+=" { keyword: '"+(l||"_limitLength")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { limit: "+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should NOT be ",t+="maxLength"==e?"longer":"shorter",t+=" than ",t+=v?"' + "+a+" + '":""+o,t+=" characters' "),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var h=t;return t=c.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",u&&(t+=" else { "),t},wr=function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;if(v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o,!v&&"number"!=typeof o)throw new Error(e+" must be number");t+="if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'number') || ");var l=e,c=c||[];c.push(t+=" Object.keys("+d+").length "+("maxProperties"==e?">":"<")+" "+a+") { "),t="",!1!==r.createErrors?(t+=" { keyword: '"+(l||"_limitProperties")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { limit: "+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should NOT have ",t+="maxProperties"==e?"more":"fewer",t+=" than ",t+=v?"' + "+a+" + '":""+o,t+=" properties' "),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var h=t;return t=c.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",u&&(t+=" else { "),t},br={$ref:function(r,e){var a,t,i=" ",n=r.dataLevel,o=r.schema[e],s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(n||""),d="valid"+r.level;if("#"==o||"#/"==o)r.isRoot?(a=r.async,t="validate"):(a=!0===r.root.schema.$async,t="root.refVal[0]");else{var v=r.resolveRef(r.baseId,o,r.isRoot);if(void 0===v){var l=r.MissingRefError.message(r.baseId,o);if("fail"==r.opts.missingRefs){r.logger.error(l),(p=p||[]).push(i),i="",!1!==r.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { ref: '"+r.util.escapeQuotes(o)+"' } ",!1!==r.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(o)+"' "),r.opts.verbose&&(i+=" , schema: "+r.util.toQuotedString(o)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var c=i;i=p.pop(),i+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+c+"]); ":" validate.errors = ["+c+"]; return false; ":" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(i+=" if (false) { ")}else{if("ignore"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,o,l);r.logger.warn(l),f&&(i+=" if (true) { ")}}else if(v.inline){var h=r.util.copy(r);h.level++;var m="valid"+h.level;h.schema=v.schema,h.schemaPath="",h.errSchemaPath=o,i+=" "+r.validate(h).replace(/validate\.schema/g,v.code)+" ",f&&(i+=" if ("+m+") { ")}else a=!0===v.$async||r.async&&!1!==v.$async,t=v.code}if(t){var p;(p=p||[]).push(i),i="",i+=r.opts.passContext?" "+t+".call(this, ":" "+t+"( ",i+=" "+u+", (dataPath || '')",'""'!=r.errorPath&&(i+=" + "+r.errorPath);var y=i+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?r.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(i=p.pop(),a){if(!r.async)throw new Error("async schema referenced by sync schema");f&&(i+=" var "+d+"; "),i+=" try { await "+y+"; ",f&&(i+=" "+d+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(i+=" "+d+" = false; "),i+=" } ",f&&(i+=" if ("+d+") { ")}else i+=" if (!"+y+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",f&&(i+=" else { ")}return i},allOf:function(r,e){var a=" ",t=r.schema[e],i=r.schemaPath+r.util.getProperty(e),n=r.errSchemaPath+"/"+e,o=!r.opts.allErrors,s=r.util.copy(r),f="";s.level++;var u="valid"+s.level,d=s.baseId,v=!0,l=t;if(l)for(var c,h=-1,m=l.length-1;h<m;)c=l[h+=1],(r.opts.strictKeywords?"object"==typeof c&&Object.keys(c).length>0||!1===c:r.util.schemaHasRules(c,r.RULES.all))&&(v=!1,s.schema=c,s.schemaPath=i+"["+h+"]",s.errSchemaPath=n+"/"+h,a+="  "+r.validate(s)+" ",s.baseId=d,o&&(a+=" if ("+u+") { ",f+="}"));return o&&(a+=v?" if (true) { ":" "+f.slice(0,-1)+" "),a},anyOf:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v="errs__"+t,l=r.util.copy(r),c="";l.level++;var h="valid"+l.level;if(n.every((function(e){return r.opts.strictKeywords?"object"==typeof e&&Object.keys(e).length>0||!1===e:r.util.schemaHasRules(e,r.RULES.all)}))){var m=l.baseId;a+=" var "+v+" = errors; var "+d+" = false;  ";var p=r.compositeRule;r.compositeRule=l.compositeRule=!0;var y=n;if(y)for(var E,g=-1,w=y.length-1;g<w;)E=y[g+=1],l.schema=E,l.schemaPath=o+"["+g+"]",l.errSchemaPath=s+"/"+g,a+="  "+r.validate(l)+" ",l.baseId=m,a+=" "+d+" = "+d+" || "+h+"; if (!"+d+") { ",c+="}";r.compositeRule=l.compositeRule=p,a+=" "+c+" if (!"+d+") {   var err =   ",!1!==r.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&f&&(a+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } ")}else f&&(a+=" if (true) { ");return a},$comment:function(r,e){var a=" ",t=r.errSchemaPath+"/"+e,i=r.util.toQuotedString(r.schema[e]);return!0===r.opts.$comment?a+=" console.log("+i+");":"function"==typeof r.opts.$comment&&(a+=" self._opts.$comment("+i+", "+r.util.toQuotedString(t)+", validate.root.schema);"),a},const:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v=r.opts.$data&&n&&n.$data;v&&(a+=" var schema"+t+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; "),v||(a+=" var schema"+t+" = validate.schema"+o+";");var l=l||[];l.push(a+="var "+d+" = equal("+u+", schema"+t+"); if (!"+d+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { allowedValue: schema"+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should be equal to constant' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var c=a;return a=l.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+c+"]); ":" validate.errors = ["+c+"]; return false; ":" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",f&&(a+=" else { "),a},contains:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v="errs__"+t,l=r.util.copy(r);l.level++;var c="valid"+l.level,h="i"+t,m=l.dataLevel=r.dataLevel+1,p="data"+m,y=r.baseId,E=r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all);if(a+="var "+v+" = errors;var "+d+";",E){var g=r.compositeRule;r.compositeRule=l.compositeRule=!0,l.schema=n,l.schemaPath=o,l.errSchemaPath=s,a+=" var "+c+" = false; for (var "+h+" = 0; "+h+" < "+u+".length; "+h+"++) { ",l.errorPath=r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers,!0);var w=u+"["+h+"]";l.dataPathArr[m]=h;var b=r.validate(l);l.baseId=y,r.util.varOccurences(b,p)<2?a+=" "+r.util.varReplace(b,p,w)+" ":a+=" var "+p+" = "+w+"; "+b+" ",a+=" if ("+c+") break; }  ",r.compositeRule=l.compositeRule=g,a+="  if (!"+c+") {"}else a+=" if ("+u+".length == 0) {";var F=F||[];F.push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'should contain a valid item' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var P=a;return a=F.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",E&&(a+="  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } "),r.opts.allErrors&&(a+=" } "),a},dependencies:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="errs__"+t,v=r.util.copy(r),l="";v.level++;var c="valid"+v.level,h={},m={},p=r.opts.ownProperties;for(w in n)if("__proto__"!=w){var y=n[w],E=Array.isArray(y)?m:h;E[w]=y}a+="var "+d+" = errors;";var g=r.errorPath;for(var w in a+="var missing"+t+";",m)if((E=m[w]).length){if(a+=" if ( "+u+r.util.getProperty(w)+" !== undefined ",p&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(w)+"') "),f){a+=" && ( ";var b=E;if(b)for(var F=-1,P=b.length-1;F<P;)S=b[F+=1],F&&(a+=" || "),a+=" ( ( "+(A=u+(I=r.util.getProperty(S)))+" === undefined ",p&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(S)+"') "),a+=") && (missing"+t+" = "+r.util.toQuotedString(r.opts.jsonPointers?S:I)+") ) ";a+=")) {  ";var $="missing"+t,j="' + "+$+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(g,$,!0):g+" + "+$);var x=x||[];x.push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { property: '"+r.util.escapeQuotes(w)+"', missingProperty: '"+j+"', depsCount: "+E.length+", deps: '"+r.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==r.opts.messages&&(a+=" , message: 'should have ",a+=1==E.length?"property "+r.util.escapeQuotes(E[0]):"properties "+r.util.escapeQuotes(E.join(", ")),a+=" when property "+r.util.escapeQuotes(w)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var O=a;a=x.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+O+"]); ":" validate.errors = ["+O+"]; return false; ":" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var D=E;if(D)for(var S,_=-1,k=D.length-1;_<k;){S=D[_+=1];var I=r.util.getProperty(S),A=(j=r.util.escapeQuotes(S),u+I);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(g,S,r.opts.jsonPointers)),a+=" if ( "+A+" === undefined ",p&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(S)+"') "),a+=") {  var err =   ",!1!==r.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { property: '"+r.util.escapeQuotes(w)+"', missingProperty: '"+j+"', depsCount: "+E.length+", deps: '"+r.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==r.opts.messages&&(a+=" , message: 'should have ",a+=1==E.length?"property "+r.util.escapeQuotes(E[0]):"properties "+r.util.escapeQuotes(E.join(", ")),a+=" when property "+r.util.escapeQuotes(w)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",f&&(l+="}",a+=" else { ")}r.errorPath=g;var z=v.baseId;for(var w in h)y=h[w],(r.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:r.util.schemaHasRules(y,r.RULES.all))&&(a+=" "+c+" = true; if ( "+u+r.util.getProperty(w)+" !== undefined ",p&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(w)+"') "),a+=") { ",v.schema=y,v.schemaPath=o+r.util.getProperty(w),v.errSchemaPath=s+"/"+r.util.escapeFragment(w),a+="  "+r.validate(v)+" ",v.baseId=z,a+=" }  ",f&&(a+=" if ("+c+") { ",l+="}"));return f&&(a+="   "+l+" if ("+d+" == errors) {"),a},enum:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v=r.opts.$data&&n&&n.$data;v&&(a+=" var schema"+t+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; ");var l="i"+t,c="schema"+t;v||(a+=" var "+c+" = validate.schema"+o+";"),a+="var "+d+";",v&&(a+=" if (schema"+t+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+t+")) "+d+" = false; else {"),a+=d+" = false;for (var "+l+"=0; "+l+"<"+c+".length; "+l+"++) if (equal("+u+", "+c+"["+l+"])) { "+d+" = true; break; }",v&&(a+="  }  ");var h=h||[];h.push(a+=" if (!"+d+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { allowedValues: schema"+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var m=a;return a=h.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",f&&(a+=" else { "),a},format:function(r,e,a){var t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||"");if(!1===r.opts.format)return u&&(t+=" if (true) { "),t;var v,l=r.opts.$data&&o&&o.$data;l?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",v="schema"+i):v=o;var c=r.opts.unknownFormats,h=Array.isArray(c);if(l)t+=" var "+(m="format"+i)+" = formats["+v+"]; var "+(p="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+i)+" = "+p+" && "+m+".type || 'string'; if ("+p+") { ",r.async&&(t+=" var async"+i+" = "+m+".async; "),t+=" "+m+" = "+m+".validate; } if (  ",l&&(t+=" ("+v+" !== undefined && typeof "+v+" != 'string') || "),t+=" (","ignore"!=c&&(t+=" ("+v+" && !"+m+" ",h&&(t+=" && self._opts.unknownFormats.indexOf("+v+") == -1 "),t+=") || "),t+=" ("+m+" && "+y+" == '"+a+"' && !(typeof "+m+" == 'function' ? ",t+=r.async?" (async"+i+" ? await "+m+"("+d+") : "+m+"("+d+")) ":" "+m+"("+d+") ",t+=" : "+m+".test("+d+"))))) {";else{var m;if(!(m=r.formats[o])){if("ignore"==c)return r.logger.warn('unknown format "'+o+'" ignored in schema at path "'+r.errSchemaPath+'"'),u&&(t+=" if (true) { "),t;if(h&&c.indexOf(o)>=0)return u&&(t+=" if (true) { "),t;throw new Error('unknown format "'+o+'" is used in schema at path "'+r.errSchemaPath+'"')}var p,y=(p="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(p){var E=!0===m.async;m=m.validate}if(y!=a)return u&&(t+=" if (true) { "),t;if(E){if(!r.async)throw new Error("async format in sync schema");t+=" if (!(await "+(g="formats"+r.util.getProperty(o)+".validate")+"("+d+"))) { "}else{t+=" if (! ";var g="formats"+r.util.getProperty(o);p&&(g+=".validate"),t+="function"==typeof m?" "+g+"("+d+") ":" "+g+".test("+d+") ",t+=") { "}}var w=w||[];w.push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'format' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { format:  ",t+=l?""+v:""+r.util.toQuotedString(o),t+="  } ",!1!==r.opts.messages&&(t+=" , message: 'should match format \"",t+=l?"' + "+v+" + '":""+r.util.escapeQuotes(o),t+="\"' "),r.opts.verbose&&(t+=" , schema:  ",t+=l?"validate.schema"+s:""+r.util.toQuotedString(o),t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var b=t;return t=w.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",u&&(t+=" else { "),t},if:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v="errs__"+t,l=r.util.copy(r);l.level++;var c="valid"+l.level,h=r.schema.then,m=r.schema.else,p=void 0!==h&&(r.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:r.util.schemaHasRules(h,r.RULES.all)),y=void 0!==m&&(r.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:r.util.schemaHasRules(m,r.RULES.all)),E=l.baseId;if(p||y){var g;l.createErrors=!1,l.schema=n,l.schemaPath=o,l.errSchemaPath=s,a+=" var "+v+" = errors; var "+d+" = true;  ";var w=r.compositeRule;r.compositeRule=l.compositeRule=!0,a+="  "+r.validate(l)+" ",l.baseId=E,l.createErrors=!0,a+="  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; }  ",r.compositeRule=l.compositeRule=w,p?(a+=" if ("+c+") {  ",l.schema=r.schema.then,l.schemaPath=r.schemaPath+".then",l.errSchemaPath=r.errSchemaPath+"/then",a+="  "+r.validate(l)+" ",l.baseId=E,a+=" "+d+" = "+c+"; ",p&&y?a+=" var "+(g="ifClause"+t)+" = 'then'; ":g="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+c+") { ",y&&(l.schema=r.schema.else,l.schemaPath=r.schemaPath+".else",l.errSchemaPath=r.errSchemaPath+"/else",a+="  "+r.validate(l)+" ",l.baseId=E,a+=" "+d+" = "+c+"; ",p&&y?a+=" var "+(g="ifClause"+t)+" = 'else'; ":g="'else'",a+=" } "),a+=" if (!"+d+") {   var err =   ",!1!==r.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { failingKeyword: "+g+" } ",!1!==r.opts.messages&&(a+=" , message: 'should match \"' + "+g+" + '\" schema' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&f&&(a+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+=" }   ",f&&(a+=" else { ")}else f&&(a+=" if (true) { ");return a},items:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v="errs__"+t,l=r.util.copy(r),c="";l.level++;var h="valid"+l.level,m="i"+t,p=l.dataLevel=r.dataLevel+1,y="data"+p,E=r.baseId;if(a+="var "+v+" = errors;var "+d+";",Array.isArray(n)){var g=r.schema.additionalItems;if(!1===g){a+=" "+d+" = "+u+".length <= "+n.length+"; ";var w=s;s=r.errSchemaPath+"/additionalItems";var b=b||[];b.push(a+="  if (!"+d+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { limit: "+n.length+" } ",!1!==r.opts.messages&&(a+=" , message: 'should NOT have more than "+n.length+" items' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var F=a;a=b.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",s=w,f&&(c+="}",a+=" else { ")}var P=n;if(P)for(var $,j=-1,x=P.length-1;j<x;)if($=P[j+=1],r.opts.strictKeywords?"object"==typeof $&&Object.keys($).length>0||!1===$:r.util.schemaHasRules($,r.RULES.all)){a+=" "+h+" = true; if ("+u+".length > "+j+") { ";var O=u+"["+j+"]";l.schema=$,l.schemaPath=o+"["+j+"]",l.errSchemaPath=s+"/"+j,l.errorPath=r.util.getPathExpr(r.errorPath,j,r.opts.jsonPointers,!0),l.dataPathArr[p]=j;var D=r.validate(l);l.baseId=E,r.util.varOccurences(D,y)<2?a+=" "+r.util.varReplace(D,y,O)+" ":a+=" var "+y+" = "+O+"; "+D+" ",a+=" }  ",f&&(a+=" if ("+h+") { ",c+="}")}"object"==typeof g&&(r.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:r.util.schemaHasRules(g,r.RULES.all))&&(l.schema=g,l.schemaPath=r.schemaPath+".additionalItems",l.errSchemaPath=r.errSchemaPath+"/additionalItems",a+=" "+h+" = true; if ("+u+".length > "+n.length+") {  for (var "+m+" = "+n.length+"; "+m+" < "+u+".length; "+m+"++) { ",l.errorPath=r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers,!0),O=u+"["+m+"]",l.dataPathArr[p]=m,D=r.validate(l),l.baseId=E,r.util.varOccurences(D,y)<2?a+=" "+r.util.varReplace(D,y,O)+" ":a+=" var "+y+" = "+O+"; "+D+" ",f&&(a+=" if (!"+h+") break; "),a+=" } }  ",f&&(a+=" if ("+h+") { ",c+="}"))}else(r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all))&&(l.schema=n,l.schemaPath=o,l.errSchemaPath=s,a+="  for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",l.errorPath=r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers,!0),O=u+"["+m+"]",l.dataPathArr[p]=m,D=r.validate(l),l.baseId=E,r.util.varOccurences(D,y)<2?a+=" "+r.util.varReplace(D,y,O)+" ":a+=" var "+y+" = "+O+"; "+D+" ",f&&(a+=" if (!"+h+") break; "),a+=" }");return f&&(a+=" "+c+" if ("+v+" == errors) {"),a},maximum:yr,minimum:yr,maxItems:Er,minItems:Er,maxLength:gr,minLength:gr,maxProperties:wr,minProperties:wr,multipleOf:function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;if(v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o,!v&&"number"!=typeof o)throw new Error(e+" must be number");t+="var division"+i+";if (",v&&(t+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),t+=" (division"+i+" = "+d+" / "+a+", ",t+=r.opts.multipleOfPrecision?" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+r.opts.multipleOfPrecision+" ":" division"+i+" !== parseInt(division"+i+") ",t+=" ) ",v&&(t+="  )  ");var l=l||[];l.push(t+=" ) {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { multipleOf: "+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should be multiple of ",t+=v?"' + "+a:a+"'"),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var c=t;return t=l.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+c+"]); ":" validate.errors = ["+c+"]; return false; ":" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",u&&(t+=" else { "),t},not:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="errs__"+t,v=r.util.copy(r);v.level++;var l="valid"+v.level;if(r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all)){v.schema=n,v.schemaPath=o,v.errSchemaPath=s,a+=" var "+d+" = errors;  ";var c,h=r.compositeRule;r.compositeRule=v.compositeRule=!0,v.createErrors=!1,v.opts.allErrors&&(c=v.opts.allErrors,v.opts.allErrors=!1),a+=" "+r.validate(v)+" ",v.createErrors=!0,c&&(v.opts.allErrors=c),r.compositeRule=v.compositeRule=h;var m=m||[];m.push(a+=" if ("+l+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var p=a;a=m.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==r.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(a+=" if (false) { ");return a},oneOf:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v="errs__"+t,l=r.util.copy(r),c="";l.level++;var h="valid"+l.level,m=l.baseId,p="prevValid"+t,y="passingSchemas"+t;a+="var "+v+" = errors , "+p+" = false , "+d+" = false , "+y+" = null; ";var E=r.compositeRule;r.compositeRule=l.compositeRule=!0;var g=n;if(g)for(var w,b=-1,F=g.length-1;b<F;)w=g[b+=1],(r.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:r.util.schemaHasRules(w,r.RULES.all))?(l.schema=w,l.schemaPath=o+"["+b+"]",l.errSchemaPath=s+"/"+b,a+="  "+r.validate(l)+" ",l.baseId=m):a+=" var "+h+" = true; ",b&&(a+=" if ("+h+" && "+p+") { "+d+" = false; "+y+" = ["+y+", "+b+"]; } else { ",c+="}"),a+=" if ("+h+") { "+d+" = "+p+" = true; "+y+" = "+b+"; }";return r.compositeRule=l.compositeRule=E,a+=c+"if (!"+d+") {   var err =   ",!1!==r.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { passingSchemas: "+y+" } ",!1!==r.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&f&&(a+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a+="} else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; }",r.opts.allErrors&&(a+=" } "),a},pattern:function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v=r.opts.$data&&o&&o.$data;v?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o;var l=v?"(new RegExp("+a+"))":r.usePattern(o);t+="if ( ",v&&(t+=" ("+a+" !== undefined && typeof "+a+" != 'string') || ");var c=c||[];c.push(t+=" !"+l+".test("+d+") ) {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { pattern:  ",t+=v?""+a:""+r.util.toQuotedString(o),t+="  } ",!1!==r.opts.messages&&(t+=" , message: 'should match pattern \"",t+=v?"' + "+a+" + '":""+r.util.escapeQuotes(o),t+="\"' "),r.opts.verbose&&(t+=" , schema:  ",t+=v?"validate.schema"+s:""+r.util.toQuotedString(o),t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var h=t;return t=c.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+="} ",u&&(t+=" else { "),t},properties:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="errs__"+t,v=r.util.copy(r),l="";v.level++;var c="valid"+v.level,h="key"+t,m="idx"+t,p=v.dataLevel=r.dataLevel+1,y="data"+p,E="dataProperties"+t,g=Object.keys(n||{}).filter(I),w=r.schema.patternProperties||{},b=Object.keys(w).filter(I),F=r.schema.additionalProperties,P=g.length||b.length,$=!1===F,j="object"==typeof F&&Object.keys(F).length,x=r.opts.removeAdditional,O=$||j||x,D=r.opts.ownProperties,S=r.baseId,_=r.schema.required;if(_&&(!r.opts.$data||!_.$data)&&_.length<r.opts.loopRequired)var k=r.util.toHash(_);function I(r){return"__proto__"!==r}if(a+="var "+d+" = errors;var "+c+" = true;",D&&(a+=" var "+E+" = undefined;"),O){if(a+=D?" "+E+" = "+E+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+E+".length; "+m+"++) { var "+h+" = "+E+"["+m+"]; ":" for (var "+h+" in "+u+") { ",P){if(a+=" var isAdditional"+t+" = !(false ",g.length)if(g.length>8)a+=" || validate.schema"+o+".hasOwnProperty("+h+") ";else{var A=g;if(A)for(var z=-1,R=A.length-1;z<R;)Z=A[z+=1],a+=" || "+h+" == "+r.util.toQuotedString(Z)+" "}if(b.length){var N=b;if(N)for(var V=-1,q=N.length-1;V<q;)ir=N[V+=1],a+=" || "+r.usePattern(ir)+".test("+h+") "}a+=" ); if (isAdditional"+t+") { "}if("all"==x)a+=" delete "+u+"["+h+"]; ";else{var C=r.errorPath,T="' + "+h+" + '";if(r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers)),$)if(x)a+=" delete "+u+"["+h+"]; ";else{var M=s;s=r.errSchemaPath+"/additionalProperties",(er=er||[]).push(a+=" "+c+" = false; "),a="",!1!==r.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { additionalProperty: '"+T+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",a+="' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var B=a;a=er.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=M,f&&(a+=" break; ")}else if(j)if("failing"==x){a+=" var "+d+" = errors;  ";var L=r.compositeRule;r.compositeRule=v.compositeRule=!0,v.schema=F,v.schemaPath=r.schemaPath+".additionalProperties",v.errSchemaPath=r.errSchemaPath+"/additionalProperties",v.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers);var U=u+"["+h+"]";v.dataPathArr[p]=h;var H=r.validate(v);v.baseId=S,r.util.varOccurences(H,y)<2?a+=" "+r.util.varReplace(H,y,U)+" ":a+=" var "+y+" = "+U+"; "+H+" ",a+=" if (!"+c+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+h+"]; }  ",r.compositeRule=v.compositeRule=L}else v.schema=F,v.schemaPath=r.schemaPath+".additionalProperties",v.errSchemaPath=r.errSchemaPath+"/additionalProperties",v.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers),U=u+"["+h+"]",v.dataPathArr[p]=h,H=r.validate(v),v.baseId=S,r.util.varOccurences(H,y)<2?a+=" "+r.util.varReplace(H,y,U)+" ":a+=" var "+y+" = "+U+"; "+H+" ",f&&(a+=" if (!"+c+") break; ");r.errorPath=C}P&&(a+=" } "),a+=" }  ",f&&(a+=" if ("+c+") { ",l+="}")}var J=r.opts.useDefaults&&!r.compositeRule;if(g.length){var K=g;if(K)for(var Z,Q=-1,G=K.length-1;Q<G;){var Y=n[Z=K[Q+=1]];if(r.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:r.util.schemaHasRules(Y,r.RULES.all)){var W=r.util.getProperty(Z),X=(U=u+W,J&&void 0!==Y.default);if(v.schema=Y,v.schemaPath=o+W,v.errSchemaPath=s+"/"+r.util.escapeFragment(Z),v.errorPath=r.util.getPath(r.errorPath,Z,r.opts.jsonPointers),v.dataPathArr[p]=r.util.toQuotedString(Z),H=r.validate(v),v.baseId=S,r.util.varOccurences(H,y)<2){H=r.util.varReplace(H,y,U);var rr=U}else rr=y,a+=" var "+y+" = "+U+"; ";if(X)a+=" "+H+" ";else{if(k&&k[Z]){a+=" if ( "+rr+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(Z)+"') "),a+=") { "+c+" = false; ",C=r.errorPath,M=s;var er,ar=r.util.escapeQuotes(Z);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(C,Z,r.opts.jsonPointers)),s=r.errSchemaPath+"/required",(er=er||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+ar+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ar+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",B=a,a=er.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=M,r.errorPath=C,a+=" } else { "}else f?(a+=" if ( "+rr+" === undefined ",D&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(Z)+"') "),a+=") { "+c+" = true; } else { "):(a+=" if ("+rr+" !== undefined ",D&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(Z)+"') "),a+=" ) { ");a+=" "+H+" } "}}f&&(a+=" if ("+c+") { ",l+="}")}}if(b.length){var tr=b;if(tr)for(var ir,nr=-1,or=tr.length-1;nr<or;)Y=w[ir=tr[nr+=1]],(r.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:r.util.schemaHasRules(Y,r.RULES.all))&&(v.schema=Y,v.schemaPath=r.schemaPath+".patternProperties"+r.util.getProperty(ir),v.errSchemaPath=r.errSchemaPath+"/patternProperties/"+r.util.escapeFragment(ir),a+=D?" "+E+" = "+E+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+E+".length; "+m+"++) { var "+h+" = "+E+"["+m+"]; ":" for (var "+h+" in "+u+") { ",a+=" if ("+r.usePattern(ir)+".test("+h+")) { ",v.errorPath=r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers),U=u+"["+h+"]",v.dataPathArr[p]=h,H=r.validate(v),v.baseId=S,r.util.varOccurences(H,y)<2?a+=" "+r.util.varReplace(H,y,U)+" ":a+=" var "+y+" = "+U+"; "+H+" ",f&&(a+=" if (!"+c+") break; "),a+=" } ",f&&(a+=" else "+c+" = true; "),a+=" }  ",f&&(a+=" if ("+c+") { ",l+="}"))}return f&&(a+=" "+l+" if ("+d+" == errors) {"),a},propertyNames:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="errs__"+t,v=r.util.copy(r);v.level++;var l="valid"+v.level;if(a+="var "+d+" = errors;",r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all)){v.schema=n,v.schemaPath=o,v.errSchemaPath=s;var c="key"+t,h="idx"+t,m="i"+t,p="' + "+c+" + '",y="data"+(v.dataLevel=r.dataLevel+1),E="dataProperties"+t,g=r.opts.ownProperties,w=r.baseId;g&&(a+=" var "+E+" = undefined; "),a+=g?" "+E+" = "+E+" || Object.keys("+u+"); for (var "+h+"=0; "+h+"<"+E+".length; "+h+"++) { var "+c+" = "+E+"["+h+"]; ":" for (var "+c+" in "+u+") { ",a+=" var startErrs"+t+" = errors; ";var b=c,F=r.compositeRule;r.compositeRule=v.compositeRule=!0;var P=r.validate(v);v.baseId=w,r.util.varOccurences(P,y)<2?a+=" "+r.util.varReplace(P,y,b)+" ":a+=" var "+y+" = "+b+"; "+P+" ",r.compositeRule=v.compositeRule=F,a+=" if (!"+l+") { for (var "+m+"=startErrs"+t+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+c+"; }   var err =   ",!1!==r.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { propertyName: '"+p+"' } ",!1!==r.opts.messages&&(a+=" , message: 'property name \\'"+p+"\\' is invalid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&f&&(a+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),f&&(a+=" break; "),a+=" } }"}return f&&(a+="  if ("+d+" == errors) {"),a},required:function(r,e){var a=" ",t=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,u="data"+(i||""),d="valid"+t,v=r.opts.$data&&n&&n.$data;v&&(a+=" var schema"+t+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; ");var l="schema"+t;if(!v)if(n.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var c=[],h=n;if(h)for(var m,p=-1,y=h.length-1;p<y;){m=h[p+=1];var E=r.schema.properties[m];E&&(r.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:r.util.schemaHasRules(E,r.RULES.all))||(c[c.length]=m)}}else c=n;if(v||c.length){var g=r.errorPath,w=v||c.length>=r.opts.loopRequired,b=r.opts.ownProperties;if(f)if(a+=" var missing"+t+"; ",w){v||(a+=" var "+l+" = validate.schema"+o+"; ");var F="' + "+(D="schema"+t+"["+(x="i"+t)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(g,D,r.opts.jsonPointers)),a+=" var "+d+" = true; ",v&&(a+=" if (schema"+t+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+t+")) "+d+" = false; else {"),a+=" for (var "+x+" = 0; "+x+" < "+l+".length; "+x+"++) { "+d+" = "+u+"["+l+"["+x+"]] !== undefined ",b&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+l+"["+x+"]) "),a+="; if (!"+d+") break; } ",v&&(a+="  }  "),($=$||[]).push(a+="  if (!"+d+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+F+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var P=a;a=$.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var $,j=c;if(j)for(var x=-1,O=j.length-1;x<O;)_=j[x+=1],x&&(a+=" || "),a+=" ( ( "+(z=u+(A=r.util.getProperty(_)))+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(_)+"') "),a+=") && (missing"+t+" = "+r.util.toQuotedString(r.opts.jsonPointers?_:A)+") ) ";a+=") {  ",F="' + "+(D="missing"+t)+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(g,D,!0):g+" + "+D),($=$||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+F+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",P=a,a=$.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(w){var D;v||(a+=" var "+l+" = validate.schema"+o+"; "),F="' + "+(D="schema"+t+"["+(x="i"+t)+"]")+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(g,D,r.opts.jsonPointers)),v&&(a+=" if ("+l+" && !Array.isArray("+l+")) {  var err =   ",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+F+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+l+" !== undefined) { "),a+=" for (var "+x+" = 0; "+x+" < "+l+".length; "+x+"++) { if ("+u+"["+l+"["+x+"]] === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+l+"["+x+"]) "),a+=") {  var err =   ",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+F+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",v&&(a+="  }  ")}else{var S=c;if(S)for(var _,k=-1,I=S.length-1;k<I;){_=S[k+=1];var A=r.util.getProperty(_),z=(F=r.util.escapeQuotes(_),u+A);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(g,_,r.opts.jsonPointers)),a+=" if ( "+z+" === undefined ",b&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+r.util.escapeQuotes(_)+"') "),a+=") {  var err =   ",!1!==r.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+F+"' } ",!1!==r.opts.messages&&(a+=" , message: '",a+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=g}else f&&(a+=" if (true) {");return a},uniqueItems:function(r,e){var a,t=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,d="data"+(n||""),v="valid"+i,l=r.opts.$data&&o&&o.$data;if(l?(t+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",a="schema"+i):a=o,(o||l)&&!1!==r.opts.uniqueItems){l&&(t+=" var "+v+"; if ("+a+" === false || "+a+" === undefined) "+v+" = true; else if (typeof "+a+" != 'boolean') "+v+" = false; else { "),t+=" var i = "+d+".length , "+v+" = true , j; if (i > 1) { ";var c=r.schema.items&&r.schema.items.type,h=Array.isArray(c);!c||"object"==c||"array"==c||h&&(c.indexOf("object")>=0||c.indexOf("array")>=0)?t+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+v+" = false; break outer; } } } ":(t+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ",t+=" if ("+r.util["checkDataType"+(h?"s":"")](c,"item",r.opts.strictNumbers,!0)+") continue; ",h&&(t+=" if (typeof item == 'string') item = '\"' + item; "),t+=" if (typeof itemIndices[item] == 'number') { "+v+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),t+=" } ",l&&(t+="  }  ");var m=m||[];m.push(t+=" if (!"+v+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { i: i, j: j } ",!1!==r.opts.messages&&(t+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),r.opts.verbose&&(t+=" , schema:  ",t+=l?"validate.schema"+s:""+o,t+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var p=t;t=m.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",u&&(t+=" else { ")}else u&&(t+=" if (true) { ");return t},validate:C},Fr=i.toHash,Pr=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],$r=function(r,e){for(var a=0;a<e.length;a++){r=JSON.parse(JSON.stringify(r));var t,i=e[a].split("/"),n=r;for(t=1;t<i.length;t++)n=n[i[t]];for(t=0;t<Pr.length;t++){var o=Pr[t],s=n[o];s&&(n[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return r},jr=R.MissingRef,xr=function(r,e){var a,t,i=" ",n=r.level,o=r.dataLevel,s=r.schema[e],f=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,d=!r.opts.allErrors,v="data"+(o||""),l="valid"+n,c="errs__"+n,h=r.opts.$data&&s&&s.$data;h?(i+=" var schema"+n+" = "+r.util.getData(s.$data,o,r.dataPathArr)+"; ",t="schema"+n):t=s;var m,p,y,E,g,w=this,b="definition"+n,F=w.definition,P="";if(h&&F.$data){var $=F.validateSchema;i+=" var "+b+" = RULES.custom['"+e+"'].definition; var "+(g="keywordValidate"+n)+" = "+b+".validate;"}else{if(!(E=r.useCustomRule(w,s,r.schema,r)))return;t="validate.schema"+f,g=E.code,m=F.compile,p=F.inline,y=F.macro}var j=g+".errors",x="i"+n,O="ruleErr"+n,D=F.async;if(D&&!r.async)throw new Error("async keyword in sync schema");if(p||y||(i+=j+" = null;"),i+="var "+c+" = errors;var "+l+";",h&&F.$data&&(P+="}",i+=" if ("+t+" === undefined) { "+l+" = true; } else { ",$&&(P+="}",i+=" "+l+" = "+b+".validateSchema("+t+"); if ("+l+") { ")),p)i+=F.statements?" "+E.validate+" ":" "+l+" = "+E.validate+"; ";else if(y){var S=r.util.copy(r);P="",S.level++;var _="valid"+S.level;S.schema=E.validate,S.schemaPath="";var k=r.compositeRule;r.compositeRule=S.compositeRule=!0;var I=r.validate(S).replace(/validate\.schema/g,g);r.compositeRule=S.compositeRule=k,i+=" "+I}else{(N=N||[]).push(i),i="",i+="  "+g+".call( ",i+=r.opts.passContext?"this":"self",i+=m||!1===F.schema?" , "+v+" ":" , "+t+" , "+v+" , validate.schema"+r.schemaPath+" ",i+=" , (dataPath || '')",'""'!=r.errorPath&&(i+=" + "+r.errorPath);var A=o?"data"+(o-1||""):"parentData",z=o?r.dataPathArr[o]:"parentDataProperty",R=i+=" , "+A+" , "+z+" , rootData )  ";i=N.pop(),!1===F.errors?(i+=" "+l+" = ",D&&(i+="await "),i+=R+"; "):i+=D?" var "+(j="customErrors"+n)+" = null; try { "+l+" = await "+R+"; } catch (e) { "+l+" = false; if (e instanceof ValidationError) "+j+" = e.errors; else throw e; } ":" "+j+" = null; "+l+" = "+R+"; "}if(F.modifying&&(i+=" if ("+A+") "+v+" = "+A+"["+z+"];"),i+=""+P,F.valid)d&&(i+=" if (true) { ");else{var N;i+=" if ( ",void 0===F.valid?(i+=" !",i+=y?""+_:""+l):i+=" "+!F.valid+" ",a=w.keyword,(N=N||[]).push(i+=") { "),(N=N||[]).push(i=""),i="",!1!==r.createErrors?(i+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==r.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),r.opts.verbose&&(i+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),i+=" } "):i+=" {} ";var V=i;i=N.pop();var q=i+=!r.compositeRule&&d?r.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i=N.pop(),p?F.errors?"full"!=F.errors&&(i+="  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+O+" = vErrors["+x+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+u+'"; } ',r.opts.verbose&&(i+=" "+O+".schema = "+t+"; "+O+".data = "+v+"; "),i+=" } "):!1===F.errors?i+=" "+q+" ":(i+=" if ("+c+" == errors) { "+q+" } else {  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+O+" = vErrors["+x+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+u+'"; } ',r.opts.verbose&&(i+=" "+O+".schema = "+t+"; "+O+".data = "+v+"; "),i+=" } } "):y?(i+="   var err =   ",!1!==r.createErrors?(i+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==r.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),r.opts.verbose&&(i+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&d&&(i+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===F.errors?i+=" "+q+" ":(i+=" if (Array.isArray("+j+")) { if (vErrors === null) vErrors = "+j+"; else vErrors = vErrors.concat("+j+"); errors = vErrors.length;  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+O+" = vErrors["+x+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+r.errorPath+";  "+O+'.schemaPath = "'+u+'";  ',r.opts.verbose&&(i+=" "+O+".schema = "+t+"; "+O+".data = "+v+"; "),i+=" } } else { "+q+" } "),i+=" } ",d&&(i+=" else { ")}return i};const Or={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var Dr={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Or.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Or.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Sr=/^[a-z_$][a-z0-9_$-]*$/i;const _r={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var kr=Rr;Rr.prototype.validate=function(r,e){var a;if("string"==typeof r){if(!(a=this.getSchema(r)))throw new Error('no schema with key or ref "'+r+'"')}else{var t=this._addSchema(r);a=t.validate||this._compile(t)}var i=a(e);return!0!==a.$async&&(this.errors=a.errors),i},Rr.prototype.compile=function(r,e){var a=this._addSchema(r,void 0,e);return a.validate||this._compile(a)},Rr.prototype.addSchema=function(r,e,a,t){if(Array.isArray(r)){for(var i=0;i<r.length;i++)this.addSchema(r[i],void 0,a,t);return this}var n=this._getId(r);if(void 0!==n&&"string"!=typeof n)throw new Error("schema id must be string");return Mr(this,e=w.normalizeId(e||n)),this._schemas[e]=this._addSchema(r,a,t,!0),this},Rr.prototype.addMetaSchema=function(r,e,a){return this.addSchema(r,e,a,!0),this},Rr.prototype.validateSchema=function(r,e){var a,t,i=r.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||(a=this,t=a._opts.meta,a._opts.defaultMeta="object"==typeof t?a._getId(t)||t:a.getSchema(Ir)?Ir:void 0,a._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(i,r);if(!n&&e){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return n},Rr.prototype.getSchema=function(r){var e=Nr(this,r);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(r,e){var a=w.schema.call(r,{schema:{}},e);if(a){var t=a.schema,i=a.root,n=a.baseId,o=B.call(r,t,i,void 0,n);return r._fragments[e]=new E({ref:e,fragment:!0,schema:t,root:i,baseId:n,validate:o}),o}}(this,r)}},Rr.prototype.removeSchema=function(r){if(r instanceof RegExp)return Vr(this,this._schemas,r),Vr(this,this._refs,r),this;switch(typeof r){case"undefined":return Vr(this,this._schemas),Vr(this,this._refs),this._cache.clear(),this;case"string":var e=Nr(this,r);return e&&this._cache.del(e.cacheKey),delete this._schemas[r],delete this._refs[r],this;case"object":var a=this._opts.serialize,t=a?a(r):r;this._cache.del(t);var i=this._getId(r);i&&(i=w.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},Rr.prototype.addFormat=function(r,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[r]=e,this},Rr.prototype.errorsText=function(r,e){if(!(r=r||this.errors))return"No errors";for(var a=void 0===(e=e||{}).separator?", ":e.separator,t=void 0===e.dataVar?"data":e.dataVar,i="",n=0;n<r.length;n++){var o=r[n];o&&(i+=t+o.dataPath+" "+o.message+a)}return i.slice(0,-a.length)},Rr.prototype._addSchema=function(r,e,a,t){if("object"!=typeof r&&"boolean"!=typeof r)throw new Error("schema should be object or boolean");var i=this._opts.serialize,n=i?i(r):r,o=this._cache.get(n);if(o)return o;t=t||!1!==this._opts.addUsedSchema;var s=w.normalizeId(this._getId(r));s&&t&&Mr(this,s);var f,u=!1!==this._opts.validateSchema&&!e;u&&!(f=s&&s==w.normalizeId(r.$schema))&&this.validateSchema(r,!0);var d=w.ids.call(this,r),v=new E({id:s,schema:r,localRefs:d,cacheKey:n,meta:a});return"#"!=s[0]&&t&&(this._refs[s]=v),this._cache.put(n,v),u&&f&&this.validateSchema(r,!0),v},Rr.prototype._compile=function(r,e){if(r.compiling)return r.validate=i,i.schema=r.schema,i.errors=null,i.root=e||i,!0===r.schema.$async&&(i.$async=!0),i;var a,t;r.compiling=!0,r.meta&&(a=this._opts,this._opts=this._metaOpts);try{t=B.call(this,r.schema,e,r.localRefs)}catch(e){throw delete r.validate,e}finally{r.compiling=!1,r.meta&&(this._opts=a)}return r.validate=t,r.refs=t.refs,r.refVal=t.refVal,r.root=t.root,t;function i(){var e=r.validate,a=e.apply(this,arguments);return i.errors=e.errors,a}},Rr.prototype.compileAsync=function r(e,a,t){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof a&&(t=a,a=void 0);var n=o(e).then((function(){var r=i._addSchema(e,void 0,a);return r.validate||s(r)}));return t&&n.then((function(r){t(null,r)}),t),n;function o(e){var a=e.$schema;return a&&!i.getSchema(a)?r.call(i,{$ref:a},!0):Promise.resolve()}function s(r){try{return i._compile(r)}catch(e){if(e instanceof jr)return function(e){var t=e.missingSchema;if(u(t))throw new Error("Schema "+t+" is loaded but "+e.missingRef+" cannot be resolved");var n=i._loadingSchemas[t];return n||(n=i._loadingSchemas[t]=i._opts.loadSchema(t)).then(f,f),n.then((function(r){if(!u(t))return o(r).then((function(){u(t)||i.addSchema(r,t,void 0,a)}))})).then((function(){return s(r)}));function f(){delete i._loadingSchemas[t]}function u(r){return i._refs[r]||i._schemas[r]}}(e);throw e}}},Rr.prototype.addKeyword=function(r,e){var a=this.RULES;if(a.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!Sr.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var t=e.type;if(Array.isArray(t))for(var i=0;i<t.length;i++)o(r,t[i],e);else o(r,t,e);var n=e.metaSchema;n&&(e.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(n,!0))}function o(r,e,t){for(var i,n=0;n<a.length;n++){var o=a[n];if(o.type==e){i=o;break}}i||a.push(i={type:e,rules:[]});var s={keyword:r,definition:t,custom:!0,code:xr,implements:t.implements};i.rules.push(s),a.custom[r]=s}return a.keywords[r]=a.all[r]=!0,this},Rr.prototype.getKeyword=function(r){var e=this.RULES.custom[r];return e?e.definition:this.RULES.keywords[r]||!1},Rr.prototype.removeKeyword=function(r){var e=this.RULES;delete e.keywords[r],delete e.all[r],delete e.custom[r];for(var a=0;a<e.length;a++)for(var t=e[a].rules,i=0;i<t.length;i++)if(t[i].keyword==r){t.splice(i,1);break}return this},Rr.prototype.validateKeyword=function r(e,a){r.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(Dr,!0);if(t(e))return!0;if(r.errors=t.errors,a)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1},Rr.ValidationError=R.Validation,Rr.MissingRefError=R.MissingRef,Rr.$dataMetaSchema=$r;var Ir="http://json-schema.org/draft-07/schema",Ar=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],zr=["/properties"];function Rr(r){if(!(this instanceof Rr))return new Rr(r);var e,a;r=this._opts=i.copy(r)||{},function(r){var e=r._opts.logger;if(!1===e)r.logger={log:Br,warn:Br,error:Br};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");r.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=ur(r.format),this._cache=r.cache||new Y,this._loadingSchemas={},this._compilations=[],this.RULES=((e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}]).all=Fr(a=["type","$comment"]),e.types=Fr(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var t;if("object"==typeof r){var i=Object.keys(r)[0];t=r[i],r=i,t.forEach((function(r){a.push(r),e.all[r]=!0}))}return a.push(r),e.all[r]={keyword:r,code:br[r],implements:t}})),e.all.$comment={keyword:"$comment",code:br.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=Fr(a.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e),this._getId=function(r){switch(r.schemaId){case"auto":return Tr;case"id":return qr;default:return Cr}}(r),r.loopRequired=r.loopRequired||1/0,"property"==r.errorDataPath&&(r._errorDataPathProperty=!0),void 0===r.serialize&&(r.serialize=q),this._metaOpts=function(r){for(var e=i.copy(r._opts),a=0;a<Ar.length;a++)delete e[Ar[a]];return e}(this),r.formats&&function(r){for(var e in r._opts.formats)r.addFormat(e,r._opts.formats[e])}(this),r.keywords&&function(r){for(var e in r._opts.keywords)r.addKeyword(e,r._opts.keywords[e])}(this),function(r){var e;if(r._opts.$data&&r.addMetaSchema(e=_r,e.$id,!0),!1!==r._opts.meta){var a=Or;r._opts.$data&&(a=$r(a,zr)),r.addMetaSchema(a,Ir,!0),r._refs["http://json-schema.org/schema"]=Ir}}(this),"object"==typeof r.meta&&this.addMetaSchema(r.meta),r.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(r){var e=r._opts.schemas;if(e)if(Array.isArray(e))r.addSchema(e);else for(var a in e)r.addSchema(e[a],a)}(this)}function Nr(r,e){return e=w.normalizeId(e),r._schemas[e]||r._refs[e]||r._fragments[e]}function Vr(r,e,a){for(var t in e){var i=e[t];i.meta||a&&!a.test(t)||(r._cache.del(i.cacheKey),delete e[t])}}function qr(r){return r.$id&&this.logger.warn("schema $id ignored",r.$id),r.id}function Cr(r){return r.id&&this.logger.warn("schema id ignored",r.id),r.$id}function Tr(r){if(r.$id&&r.id&&r.$id!=r.id)throw new Error("schema $id is different from id");return r.$id||r.id}function Mr(r,e){if(r._schemas[e]||r._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Br(){}export{kr as a}