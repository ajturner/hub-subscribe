import{r as t,c as i,h as e,H as o,a}from"./p-d4ba4c14.js";import{i as r}from"./p-be5c5009.js";import{b as s}from"./p-fd260f2d.js";const l=class{constructor(e){t(this,e),this.arcgisHubContentSelect=i(this,"arcgisHubContentSelect",7),this.arcgisHubContentViewClick=i(this,"arcgisHubContentViewClick",7),this.entity=void 0,this.layout="row",this.loading=void 0,this.showThumbnail=void 0,this.newTab=void 0,this.selectable=void 0,this.isSelected=!1,this.hasThumbnailError=!1,s(this,"setThumbnailEl","onTitleLinkClick")}get createdDate(){return this.entity.created?this.parseDate(this.entity.created):""}get lastUpdatedDate(){return this.entity.modified?this.parseDate(this.entity.modified):""}get contentTypeLabel(){let t;if(this.entity.contentTypeLabel)return t=this.intl.t(this.entity.contentTypeLabel),t.includes("arcgis-hub-content-view.")&&(t=this.intl.t("content")),t}async componentWillLoad(){this.intl=await r.loadIntlForComponent(this.element)}parseDate(t){return this.intl.formatDate(t,{year:"numeric",month:"long",day:"numeric",hour12:!1})}setThumbnailEl(t){this.thumbnailEl=t}componentDidRender(){if(this.thumbnailEl){const t=()=>{this.hasThumbnailError=!0,this.thumbnailEl.removeEventListener("error",t)};this.thumbnailEl.addEventListener("error",t)}}handelCardSelectEvent(){this.isSelected=!this.isSelected,this.arcgisHubContentSelect.emit(this.entity)}renderThumbnail(t,i){let o;if(this.showThumbnail&&!this.loading){if(!t.thumbnailUrl||this.hasThumbnailError)return e("calcite-icon",{class:this.isSelected?`${i}-empty-thumbnail empty-thumbnail thumbnail-border`:`${i}-empty-thumbnail empty-thumbnail`,icon:"image",slot:"thumbnail"});o=e("img",{alt:"footer thumbnail",class:this.isSelected?"thumbnail thumbnail-border":"thumbnail",ref:this.setThumbnailEl,slot:"thumbnail",src:t.thumbnailUrl})}return o}renderContentType(t){if(t.type)return e("div",null,e("dt",null,this.intl.t("type")),e("dd",null,t.type))}renderDateUpdated(){if(this.lastUpdatedDate)return e("div",null,e("dt",null,this.intl.t("dateUpdated")),e("dd",null,this.lastUpdatedDate))}renderDateCreated(){if(this.createdDate)return e("div",null,e("dt",null,this.intl.t("dateCreated")),e("dd",null,this.createdDate))}renderContentTitle(t){return t.viewUrl?e("a",{class:"title-action",href:t.viewUrl,onClick:this.onTitleLinkClick,slot:"title",target:this.newTab?"_blank":"_self"},t.title):e("div",{class:"plain-title",slot:"title"},t.title)}onTitleLinkClick(t){this.arcgisHubContentViewClick.emit({content:this.entity,event:t})}renderLayout(t,i=!1){return e(o,null,"row"===this.layout?this.renderThumbnail(t,this.layout):"",e("calcite-card",{dir:this.intl.direction,loading:i,selectable:this.selectable},"card"===this.layout?this.renderThumbnail(t,this.layout):"",e("div",{class:"content-type",slot:"title"},e("calcite-icon",{icon:t.contentTypeIcon}),e("span",null,this.contentTypeLabel)),this.renderContentTitle(t),e("div",{class:"owner",slot:"subtitle"},t.owner),e("div",{class:"snippet",slot:"subtitle"},t.snippet),e("dl",{slot:"footer-leading"},this.renderContentType(t),"row"===this.layout?this.renderDateCreated():"",this.renderDateUpdated())))}render(){return this.entity?this.renderLayout(this.entity,this.loading):"No data."}static get assetsDirs(){return["locales"]}get element(){return a(this)}};l.style=":host{display:block}calcite-card{height:100%;width:100%;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.content-type{display:flex;align-items:center;padding-bottom:1.25rem}.content-type calcite-icon{margin-right:0.5rem}.title-action{font-size:var(--calcite-font-size-2);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-link);-webkit-text-decoration-line:none;text-decoration-line:none;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.plain-title{font-size:var(--calcite-font-size-2);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.owner{font-size:14px}.snippet{padding-bottom:0.14rem;margin-top:1rem;margin-bottom:1rem;margin-left:0px;margin-right:0px;font-size:var(--calcite-font-size-0);line-height:1.25rem;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}:host([layout='card']) .thumbnail{width:100%;aspect-ratio:200 / 133}:host([layout='card']) .empty-thumbnail{height:auto;width:100%;background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-3);aspect-ratio:200 / 133}:host([layout='row']){--calcite-animation-timing:0ms;margin-bottom:1rem;display:grid;grid-template-columns:repeat(4, minmax(0, 1fr));--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);grid-template-areas:'thumbnail main main main'}:host([layout='row']:hover) calcite-card{--tw-shadow:0 4px 16px 0 rgba(0, 0, 0, 0.08), 0 2px 8px 0 rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 16px 0 var(--tw-shadow-color), 0 2px 8px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}:host([layout='row']:hover) calcite-card:hover{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([layout='row']:hover) .thumbnail{box-shadow:-8px 4px 16px 0 rgb(0 0 0 / 8%), -4px 2px 8px 0 rgb(0 0 0 / 4%)}:host([layout='row']) .empty-thumbnail{height:auto;width:100%;background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-3);aspect-ratio:200 / 167}:host([layout='row']) .thumbnail{background-color:var(--calcite-ui-foreground-1);aspect-ratio:200 / 167}:host([layout='row']) .thumbnail,:host([layout='row']) .empty-thumbnail{grid-area:thumbnail;height:100%;min-width:100%;max-width:100%;border-width:1px;border-right-width:0px;border-style:solid;border-color:var(--calcite-ui-border-2);object-fit:cover;object-position:center;box-shadow:1px 0px var(--calcite-ui-foreground-1);z-index:2}:host([layout='row']) calcite-card{grid-area:main;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.thumbnail-border{border-color:#007ac2 !important}dl[slot='footer-leading']{margin:0px;display:grid;width:100%;gap:0.25rem;font-size:14px;grid-template-columns:repeat(auto-fill, minmax(max(200px, (100% - (2 - 1) * 0.25rem) / 2), 1fr))}dl[slot='footer-leading']>div{display:flex}dl[slot='footer-leading'] dt{font-weight:var(--calcite-font-weight-bold)}dl[slot='footer-leading'] dt::after{content:':'}dl[slot='footer-leading'] dd{margin:0px;margin-left:0.25rem;margin-inline-start:5px}";export{l as arcgis_hub_content_view}