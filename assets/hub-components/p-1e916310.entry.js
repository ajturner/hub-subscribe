import{r as t,h as i,H as e,a as s}from"./p-d4ba4c14.js";import{i as a}from"./p-be5c5009.js";import{g as r}from"./p-77801e48.js";import{f as o}from"./p-e65c0b02.js";import{g as p}from"./p-75d6da59.js";import"./p-ac8be5fd.js";import"./p-85d6867e.js";import"./p-a0deb8c6.js";import"./p-dd26efbb.js";import"./p-d1b12a9c.js";import"./p-796574a4.js";import"./p-dcdf7b57.js";import"./p-6dcae6cd.js";import"./p-637ea136.js";import"./p-3f64a9d9.js";import"./p-377e1b5e.js";import"./p-2acb70a6.js";import"./p-6f931af6.js";import"./p-56b73d71.js";import"./p-3904125b.js";import"./p-b728aff4.js";import"./p-52612356.js";import"./p-af59e67b.js";import"./p-b295a5ae.js";import"./p-cea8413b.js";import"./p-d763eacf.js";import"./p-ad325ed1.js";import"./p-8e7f4c22.js";import"./p-69555c48.js";import"./p-8dbea197.js";import"./p-7202c430.js";import"./p-90dc0f6f.js";import"./p-59fd2498.js";import"./p-16a95e5b.js";import"./p-e43616ff.js";import"./p-ca048216.js";import"./p-4a14259a.js";import"./p-235bb6ee.js";import"./p-783242bc.js";import"./p-903ef8af.js";import"./p-c836a9b6.js";import"./p-58cf73b6.js";import"./p-7b082f5d.js";import"./p-9646abb2.js";import"./p-bded806b.js";import"./p-87582fe0.js";import"./p-8ccaf06d.js";import"./p-9b205605.js";import"./p-c8e0e01f.js";import"./p-97274a47.js";import"./p-30a7cbb2.js";import"./p-10274eb9.js";import"./p-dafb2329.js";import"./p-992b9d10.js";import"./p-895b662f.js";const c=class{constructor(i){t(this,i),this.identifier=void 0,this.entityType=void 0,this.entity=void 0,this.exclude=[],this.context=void 0,this.isLoading=void 0,this._entity=void 0}async componentWillLoad(){this.intl=await a.loadIntlForComponent(this.element),this.fetchEntity()}handleEntityChange(){this._entity=this.entity}async fetchEntity(){if(this._entity=this.entity,!this._entity&&this.context&&this.identifier){this.isLoading=!0;try{this._entity=await o(this.entityType,this.identifier,this.context)}catch(t){console.error(`Error fetching entity ${t}`)}finally{this.isLoading=!1}}}formatDate(t){return this.intl.formatDate(t,{month:"short",day:"numeric",year:"numeric"})}get _entityType(){return this.entityType||p(this._entity)}get accessMetadataItem(){var t;const i=null===(t=this._entity)||void 0===t?void 0:t.access,e=this.intl.t(`access.description.${i}.default`);return{icon:r(i),title:this.intl.t(`access.label.${i}`),description:this.intl.t(`access.description.${i}.${this._entityType}`,void 0,{fallback:e})}}get createdDateMetadataItem(){var t;return{icon:"calendar",title:this.formatDate(null===(t=this._entity)||void 0===t?void 0:t.createdDate),description:this.intl.t("createdDate.description")}}get updatedDateMetadataItem(){var t;return{icon:"clock-forward",title:this.formatDate(null===(t=this._entity)||void 0===t?void 0:t.updatedDate),description:this.intl.t("updatedDate.description")}}get ownerMetadataItem(){var t;return{icon:"owner",title:null===(t=this._entity)||void 0===t?void 0:t.owner,description:this.intl.t("owner.description")}}get defaultMetadataList(){return["owner","access","createdDate","updatedDate"]}get metadata(){return(this[`${this._entityType}MetadataList`]||this.defaultMetadataList).reduce(((t,i)=>(this.exclude.includes(i)||t.push(this[`${i}MetadataItem`]),t)),[])}renderIcon(t){var e;return"owner"===t.icon?i("calcite-avatar",{scale:"s",slot:"icon",username:null===(e=this._entity)||void 0===e?void 0:e.owner}):i("calcite-icon",{icon:null==t?void 0:t.icon,slot:"icon"})}renderMetadataItem(t){return i("calcite-block",{description:null==t?void 0:t.description,heading:null==t?void 0:t.title},this.renderIcon(t))}render(){return this.isLoading||!this._entity?i("arcgis-skeleton-loader",{active:!0,class:"workspace__loader",rows:3,"show-heading":"true"}):i(e,{"data-element":"entity-metadata"},i("slot",null),this.metadata.map((t=>this.renderMetadataItem(t))))}static get assetsDirs(){return["locales"]}get element(){return s(this)}static get watchers(){return{entity:["handleEntityChange"],context:["fetchEntity"]}}};c.style=":host{display:block}calcite-block{border-block-end-width:0px;--calcite-ui-text-3:var(--calcite-ui-text-2);--calcite-font-size--1:var(--calcite-font-size--0);--calcite-font-size--2:var(--calcite-font-size--0);--calcite-font-weight-medium:var(--calcite-font-weight-bold);margin-bottom:-1rem;margin-left:-0.75rem;background-color:transparent}";export{c as arcgis_hub_entity_metadata}