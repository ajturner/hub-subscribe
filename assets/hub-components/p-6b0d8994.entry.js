import{r as i,c as t,h as s,H as e,a as o}from"./p-d4ba4c14.js";import{b as a}from"./p-fd260f2d.js";import{f as r,a as l,b as d}from"./p-e4c1ab9e.js";import{i as n}from"./p-be5c5009.js";import{d as c}from"./p-8cf4bd83.js";import"./p-dcdf7b57.js";import"./p-b728aff4.js";import"./p-796574a4.js";import"./p-dfe5a97d.js";const h=class{constructor(s){i(this,s),this.hubTelemetry=t(this,"hubTelemetry",7),this.authentication=void 0,this.fileFormat=void 0,this.filterGeometry=void 0,this.item=void 0,this.layers=void 0,this.server=void 0,this.showRateLimitNotice=!1,this.showReplicaErrorNotice=!1,a(this,"handleCalciteNoticeClose")}async componentWillLoad(){this.intl=await n.loadIntlForComponent(this.element)}handleCalciteNoticeClose(){var i,t,s,e;this.showRateLimitNotice=!1,this.showReplicaErrorNotice=!1,this.hubTelemetry.emit(Object.assign(Object.assign({},c.dictionary.category.interaction.action.download),{label:r(this.fileFormat),details:"dismiss limit reached",id:null===(i=this.item)||void 0===i?void 0:i.id,type:null===(t=this.item)||void 0===t?void 0:t.type,access:null===(s=this.item)||void 0===s?void 0:s.access,contentOrgId:null===(e=this.item)||void 0===e?void 0:e.orgId,response:"Failure"}))}handleArcgisDownloadError(i){var t,s,e,o;const{error:a}=i.detail;l(a)&&(this.showReplicaErrorNotice=!0),d(a)&&(this.showRateLimitNotice=!0),this.hubTelemetry.emit(Object.assign(Object.assign({},c.dictionary.category.interaction.action.download),{label:r(this.fileFormat),details:a.message,id:null===(t=this.item)||void 0===t?void 0:t.id,type:null===(s=this.item)||void 0===s?void 0:s.type,access:null===(e=this.item)||void 0===e?void 0:e.access,contentOrgId:null===(o=this.item)||void 0===o?void 0:o.orgId,response:"Failure"}))}render(){return s(e,{"data-element":"download-list-card"},s("div",{class:"list-card-content"},s("div",null,this.intl.t(this.fileFormat)),s("arcgis-download-features-button",{authentication:this.authentication,fileFormat:this.fileFormat,filterGeometry:this.filterGeometry,item:this.item,layers:this.layers,server:this.server},this.intl.t(`download${this.fileFormat}`)),this.showRateLimitNotice&&s("calcite-notice",{class:"rate-limit-notice",closable:!0,kind:"danger",open:!0,scale:"s",width:"full"},s("div",{slot:"message"},this.intl.t("rateLimitMessage"))),this.showReplicaErrorNotice&&s("calcite-notice",{class:"replica-error-notice",closable:!0,kind:"danger",open:!0,scale:"s",width:"full"},s("div",{slot:"message"},this.intl.t("createReplicaErrorMessage")))))}static get assetsDirs(){return["locales"]}get element(){return o(this)}};h.style=":host{display:block;border-width:1px;border-style:solid}.list-card-content{position:relative;margin:1rem;display:flex;height:6rem;flex-direction:column;justify-content:space-between}.replica-error-notice,.rate-limit-notice{position:absolute;bottom:0px;left:0px;z-index:50}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}.replica-error-notice,.rate-limit-notice{animation:in-up 300ms ease-in-out forwards}";export{h as arcgis_download_list_card}