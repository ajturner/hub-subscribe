import{a as e}from"./p-16a95e5b.js";import{h as r,j as n}from"./p-cea8413b.js";import{m as s}from"./p-aa262d60.js";import{a as t}from"./p-e43616ff.js";function o(e){if("undefined"!=typeof Blob)return new Blob([JSON.stringify(e)],{type:"application/json"});throw new Error("objectToJsonBlob is not currently supported on Node")}function a(e){return`hubVersion_${e}`}const c="version.json",i=["created","creator","description","id","name","parent","updated"];function u(e){return a(`${e}/version.json`)}async function p(r,n,s,t){return e(Object.assign(Object.assign({},t),{id:r,owner:s,resource:u(n)}))}async function j(e,n,s){return r(e,Object.assign(Object.assign({},s),{fileName:u(n),readAs:"json"}))}function b(e){const{access:r,resource:n,size:s}=e;let t;const o=e.properties||"{}";try{t=JSON.parse(o)}catch(e){t={}}return Object.assign(Object.assign({},t),{access:r,path:n,size:s})}async function f(e,r){return(await n(e,Object.assign(Object.assign({},r),{params:{sortField:"created",sortOrder:"desc"}}))).resources.filter((e=>e.resource.match(/^hubVersion_[a-zA-Z0-9_\s]*\/version.json/))).map(b)}async function d(e,r,n,c){const u=a(r.id),p=s(r,{},i),b=await j(e,r.id,c);s(r,b,i);const f=o(b);return await t(Object.assign(Object.assign({},c),{id:e,name:"version.json",owner:n,params:{properties:p},prefix:u,resource:f})),r}export{c as V,i as a,j as b,p as d,a as g,o,f as s,d as u}