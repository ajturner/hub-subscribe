import{r as t,c as i,h as s,H as e,a as h}from"./p-d4ba4c14.js";import{W as n}from"./p-d8c815da.js";import{b as o}from"./p-fd260f2d.js";import{d as a}from"./p-8cf4bd83.js";import{b as l}from"./p-b728aff4.js";import"./p-dfe5a97d.js";import"./p-796574a4.js";const r=class{constructor(s){t(this,s),this.arcgisHubWorkspaceLinkClicked=i(this,"arcgisHubWorkspaceLinkClicked",7),this.hubTelemetry=i(this,"hubTelemetry",7),this.pane=void 0,this.href=void 0,this.relativeToOrigin=void 0,this.telemetry={},this.iconStart=void 0,this.iconEnd=void 0,this.target=void 0,this.isText=!0,this.isButton=!1,o(this,"handleClick","handleKeyDown","handleSlotChange")}get _href(){let t=this.href;return this.pane&&(t=(t=>{let i="/";const s=window.location.pathname.split("/"),e=s.includes("workspace"),h=n.includes(s[s.length-1]);return e&&h&&(i=`${window.location.pathname.split("/").slice(0,-1).join("/")}/${t}`),i})(this.pane)),this.href&&!this.href.startsWith("http")&&this.relativeToOrigin?`${window.location.origin}${t}`:t}handleSlotChange(t){var i,s;const e=t.target.assignedElements({flatten:!0});this.isText=!e.length,"calcite-button"===(null===(s=null===(i=e[0])||void 0===i?void 0:i.tagName)||void 0===s?void 0:s.toLowerCase())&&(this.isButton=!0,e[0].href=this._href)}handleClick(t){const i=t.currentTarget.getAttribute("data-value");this.arcgisHubWorkspaceLinkClicked.emit(i?{clickEvent:t,pane:i}:{clickEvent:t,href:this._href}),this.logTelemetry()}handleKeyDown(t){"enter"===t.key&&this.handleClick(t)}logTelemetry(){var t,i;const s=!this.pane&&!(null===(t=this.href)||void 0===t?void 0:t.startsWith("/"))&&!(null===(i=this.href)||void 0===i?void 0:i.startsWith(window.location.origin));this.pane?this.hubTelemetry.emit(Object.assign(Object.assign({},a.dictionary.category.navigation.action.manage),{label:l(this.pane)})):s?this.hubTelemetry.emit(Object.assign(Object.assign(Object.assign({},a.dictionary.category.navigation.action.external),{details:this.href}),this.telemetry)):Object.keys(this.telemetry).length&&this.hubTelemetry.emit(this.telemetry)}render(){return s(e,null,this.isButton?s("div",{"data-value":this.pane,onClick:this.handleClick,onKeyDown:this.handleKeyDown},s("slot",null)):s("calcite-link",{class:{"workspace-link__text":this.isText},"data-value":this.pane,href:this._href,iconEnd:this.iconEnd,iconStart:this.iconStart,onClick:this.handleClick,target:this.target},s("slot",{onSlotchange:this.handleSlotChange})))}get element(){return h(this)}};r.style=":not(.workspace-link__text){--calcite-link-blue-underline:transparent;--calcite-ui-text-link:transparent}::slotted(*){height:100%}";export{r as arcgis_hub_workspace_link}