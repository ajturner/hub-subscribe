import{d as t,e,m as s,u as a,k as i,h as o,s as n,i as r,q as c,o as p}from"./p-85d6867e.js";import{s as u,P as d}from"./p-6f931af6.js";import{d as m,e as f}from"./p-7b082f5d.js";import{P as l}from"./p-5955d0c4.js";import{c as w}from"./p-b728aff4.js";import{r as j}from"./p-16a95e5b.js";import{m as b,b as y}from"./p-8ccaf06d.js";import{a as v,h as g,S as O,t as h}from"./p-10274eb9.js";import{g as P}from"./p-cea8413b.js";import{g as D}from"./p-69555c48.js";import{r as T}from"./p-dcdf7b57.js";import{c as H}from"./p-637ea136.js";import{p as I}from"./p-6dcae6cd.js";import{b as V,a as _}from"./p-58cf73b6.js";const K={name:"No title provided",tags:[],typeKeywords:["Hub Discussion"],permissions:[],schemaVersion:1},N={item:{type:"Discussion",title:"No Title Provided",description:"No Description Provided",snippet:"",tags:[],typeKeywords:["Hub Discussion"],properties:{slug:"",schemaVersion:1}},data:{prompt:"We want to hear from you!"}},C={catalog:{schemaVersion:0},name:"",permissions:[],schemaVersion:1,status:l.notStarted,tags:[],typeKeywords:["Hub Project"],view:{contacts:[],featuredContentIds:[],showMap:!0,metricDisplays:[]},features:m},x={item:{type:"Hub Project",title:"",description:"",snippet:"",tags:[],typeKeywords:["Hub Project"],properties:{slug:"",schemaVersion:1}},data:{display:"about",permissions:[],status:l.notStarted,view:{contacts:[],featuredContentIds:[],showMap:!0,metricDisplays:[]}}};function k(t,e){const s=t.filter((t=>!t.startsWith("status|")));return s.push(`status|${e}`),s}async function q(e,a){const c=Object.assign(Object.assign({},C),e);c.slug||(c.slug=o(c.name,c.orgUrlKey)),c.slug=await t({slug:c.slug},a),c.typeKeywords=n(c.typeKeywords,c.slug),c.typeKeywords=k(c.typeKeywords,c.status),c.typeKeywords=u(c.typeKeywords,c.isDiscussable);const p=new d(s());let m=p.entityToStore(c,w(x));m=await r(m,a);let f=p.storeToEntity(m,{});return f=i(m,f,a),f}function M(t,e){var s;delete t._groups;const a=w(t);return a.orgUrlKey=t.orgUrlKey?t.orgUrlKey:e.urlKey,a.extent=null===(s=t.location)||void 0===s?void 0:s.extent,a}async function S(o,n){o.slug=await t({slug:o.slug,existingId:o.id},n),o.typeKeywords=k(o.typeKeywords,o.status),o.typeKeywords=u(o.typeKeywords,o.isDiscussable);const r=await e(o.id,n),c=new d(s()),p=c.entityToStore(o,r),m=await a(p,n);let f=c.storeToEntity(m,o);return f=i(r,f,n),f}async function E(t,e){const s=Object.assign(Object.assign({},e),{id:t});await j(s)}const U=Object.freeze({__proto__:null,createProject:q,editorToProject:M,updateProject:S,deleteProject:E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W=function(){return(W=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const $={item:{title:"No Title Provided",description:"",snippet:"",tags:[],typeKeywords:[]},data:null};async function z(t,e){const s={item:await P(t.id,e)};t.typeKeywords=u(t.typeKeywords,t.isDiscussable);const i=new d(y()).entityToStore(t,s),o=await a(i,e),n={};if(v(t)){const s=await D(Object.assign(Object.assign({},e),{url:t.url}));if(g(O.EXTRACT,s)!==t.serverExtractCapability){const a=h(O.EXTRACT,s);await function(t,e){var s=H(t).replace("/rest/services","/rest/admin/services")+"/updateDefinition";return e.params=W({updateDefinition:{}},e.params),e.updateDefinition&&(e.params.updateDefinition=e.updateDefinition),T(s,e)}(I(t.url),{authentication:e.authentication,updateDefinition:a}),n.server=a}else n.server=s}return b(o,e,n)}async function A(t,e){const s=Object.assign(Object.assign({},e),{id:t});await j(s)}function B(t){var e;const s=w(t);return s.extent=null===(e=t.location)||void 0===e?void 0:e.extent,s}const F=Object.freeze({__proto__:null,createContent:async function(t,e){const s=Object.assign({},t);s.typeKeywords=u(s.typeKeywords,s.isDiscussable);const a=new d(y());let i=a.entityToStore(s,w($));return i=await r(i,e),a.storeToEntity(i,{})},updateContent:z,deleteContent:A,editorToContent:B}),G={catalog:{schemaVersion:0},name:"No title provided",permissions:[],tags:[],typeKeywords:["Hub Initiative Template"],schemaVersion:1,features:f,values:{}},J={item:{type:"Hub Initiative Template",title:"No Title Provided",description:"No Description Provided",snippet:"",tags:[],typeKeywords:["Hub Initiative Template"],properties:{slug:"",schemaVersion:1,previewUrl:""}},data:{recommendedTemplates:[],siteSolutionId:""}};async function L(e,s){const a=Object.assign(Object.assign({},G),e);a.slug||(a.slug=o(a.name,a.orgUrlKey)),a.slug=await t({slug:a.slug},s),a.typeKeywords=n(a.typeKeywords,a.slug),a.typeKeywords=u(a.typeKeywords,a.isDiscussable);const i=new d(V());let c=i.entityToStore(a,w(J));c=await r(c,s);let p=i.storeToEntity(c,{});return p=_(c,p,s),p}function Q(t,e){const s=w(t);return s.orgUrlKey=t.orgUrlKey?t.orgUrlKey:e.urlKey,s}async function R(s,i){s.slug=await t({slug:s.slug,existingId:s.id},i),s.typeKeywords=u(s.typeKeywords,s.isDiscussable);const o=await e(s.id,i),n=new d(V()),r=n.entityToStore(s,o),c=await a(r,i),p=n.storeToEntity(c,s);return s=_(o,p,i),p}async function X(t,e){const s=Object.assign(Object.assign({},e),{id:t});await j(s)}function Y(){throw new Error("Template creation is not currently supported from the context of Hub")}async function Z(s,i){s.slug=await t({slug:s.slug,existingId:s.id},i),s.typeKeywords=u(s.typeKeywords,s.isDiscussable);const o=await e(s.id,i),n=new d(c()),r=n.entityToStore(s,o),m=await a(r,i),f=n.storeToEntity(m,s);return s=p(o,f,i),f}function tt(t,e){const s=w(t);return s.orgUrlKey=t.orgUrlKey?t.orgUrlKey:e.urlKey,s}async function et(t,e){const s=Object.assign(Object.assign({},e),{id:t});await j(s)}export{K as D,X as a,A as b,E as c,et as d,N as e,Z as f,z as g,S as h,C as i,M as j,q as k,B as l,G as m,Q as n,L as o,tt as p,Y as q,U as r,F as s,R as u}