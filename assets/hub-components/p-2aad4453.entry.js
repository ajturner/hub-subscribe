import{r as t,c as e,h as s,H as i,a}from"./p-d4ba4c14.js";import{b as o}from"./p-fd260f2d.js";import{i as l}from"./p-be5c5009.js";const n=class{constructor(s){t(this,s),this.arcgisMultiPageModalClose=e(this,"arcgisMultiPageModalClose",7),this.isAcceptButtonClicked=!1,this.open=!1,this.pages=[],this.index=void 0,o(this,"showPreviousPage","showNextPage","handleAccept","handleModalClose")}handleOpenChanged(t,e){!e&&t&&this.initializeModal()}async componentWillLoad(){this.intl=await l.loadIntlForComponent(this.el)}connectedCallback(){this.open&&this.initializeModal()}initializeModal(){this.pages=Array.from(this.el.querySelectorAll("arcgis-modal-page")),this.index=0,this.setVisiblePage()}setVisiblePage(){this.pages.forEach(((t,e)=>t.visible=e===this.index))}showNextPage(){this.index++,this.setVisiblePage()}showPreviousPage(){this.index--,this.setVisiblePage()}handleAccept(){this.isAcceptButtonClicked=!0,this.open=!1}handleModalClose(t){t.preventDefault();const e=this.isAcceptButtonClicked?"Accepted":"Exited";this.isAcceptButtonClicked=!1,this.open=!1,this.arcgisMultiPageModalClose.emit(e)}renderSecondaryButton(){if(this.index>0)return s("calcite-button",{appearance:"outline",onClick:this.showPreviousPage,slot:"secondary",width:"full"},this.intl.t("previousButton"))}renderPrimaryButton(){return this.index===this.pages.length-1?s("calcite-button",{onClick:this.handleAccept,slot:"primary",width:"full"}," ",this.intl.t("acceptButton")," "):s("calcite-button",{onClick:this.showNextPage,slot:"primary",width:"full"}," ",this.intl.t("nextButton")," ")}render(){return s(i,{"data-element":"multi-page-modal"},s("calcite-modal",{"disable-outside-close":!0,onCalciteModalClose:this.handleModalClose,open:this.open},s("div",{slot:"header"},s("slot",{name:"header"})),s("div",{class:"page-container",slot:"content"},s("slot",null),s("div",{class:"page-counter"},this.intl.t("pageCounter",{currentPage:this.index+1,numPages:this.pages.length}))),this.renderSecondaryButton(),this.renderPrimaryButton()))}static get assetsDirs(){return["locales"]}get el(){return a(this)}static get watchers(){return{open:["handleOpenChanged"]}}};n.style=":host{display:block}.page-container{display:flex;height:100%;flex-direction:column;justify-content:space-between}.page-counter{margin-top:1rem;text-align:center;color:var(--calcite-ui-text-3);font-size:var(--calcite-font-size--1)}";export{n as arcgis_multi_page_modal}